[{"/Users/maxshaw/Documents/GitHub/answers-product-search/src/App.tsx":"1","/Users/maxshaw/Documents/GitHub/answers-product-search/src/index.tsx":"2","/Users/maxshaw/Documents/GitHub/answers-product-search/src/useAnswers.ts":"3","/Users/maxshaw/Documents/GitHub/answers-product-search/src/reportWebVitals.ts":"4","/Users/maxshaw/Documents/GitHub/answers-product-search/src/ProductCard.tsx":"5","/Users/maxshaw/Documents/GitHub/answers-product-search/src/SearchBar.tsx":"6","/Users/maxshaw/Documents/GitHub/answers-product-search/src/Facet.tsx":"7","/Users/maxshaw/Documents/GitHub/answers-product-search/src/ProductOverlayCard.tsx":"8","/Users/maxshaw/Documents/GitHub/answers-product-search/src/Nav.tsx":"9","/Users/maxshaw/Documents/GitHub/answers-product-search/src/Facets.tsx":"10","/Users/maxshaw/Documents/GitHub/answers-product-search/src/ProductGrid.tsx":"11","/Users/maxshaw/Documents/GitHub/answers-product-search/src/FacetContainer.tsx":"12","/Users/maxshaw/Documents/GitHub/answers-product-search/src/ColorFacet.tsx":"13","/Users/maxshaw/Documents/GitHub/answers-product-search/src/Modal.tsx":"14","/Users/maxshaw/Documents/GitHub/answers-product-search/src/useCart.tsx":"15","/Users/maxshaw/Documents/GitHub/answers-product-search/src/ResultsSummary.tsx":"16","/Users/maxshaw/Documents/GitHub/answers-product-search/src/store/AnswersStore.tsx":"17"},{"size":2423,"mtime":1608643506796,"results":"18","hashOfConfig":"19"},{"size":788,"mtime":1608576893674,"results":"20","hashOfConfig":"19"},{"size":2762,"mtime":1608599843785,"results":"21","hashOfConfig":"19"},{"size":425,"mtime":1608420976205,"results":"22","hashOfConfig":"19"},{"size":2116,"mtime":1608522605377,"results":"23","hashOfConfig":"19"},{"size":3734,"mtime":1608604029564,"results":"24","hashOfConfig":"19"},{"size":2181,"mtime":1608602665682,"results":"25","hashOfConfig":"19"},{"size":2471,"mtime":1608522595959,"results":"26","hashOfConfig":"19"},{"size":2933,"mtime":1608603973789,"results":"27","hashOfConfig":"19"},{"size":956,"mtime":1608603995590,"results":"28","hashOfConfig":"19"},{"size":1658,"mtime":1608599545145,"results":"29","hashOfConfig":"19"},{"size":1078,"mtime":1608601782833,"results":"30","hashOfConfig":"19"},{"size":1705,"mtime":1608601987893,"results":"31","hashOfConfig":"19"},{"size":465,"mtime":1608599386922,"results":"32","hashOfConfig":"19"},{"size":1334,"mtime":1608599695227,"results":"33","hashOfConfig":"19"},{"size":647,"mtime":1608599790144,"results":"34","hashOfConfig":"19"},{"size":584,"mtime":1608643455047,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"16avlnu",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/maxshaw/Documents/GitHub/answers-product-search/src/App.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/index.tsx",[],["77","78"],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/useAnswers.ts",["79","80"],"import {\n  AnswersCore,\n  AutoCompleteResult,\n  Facet,\n  VerticalSearchResponse,\n} from \"@yext/answers-core\";\nimport { useEffect, useState } from \"react\";\nimport { useImmer } from \"use-immer\";\n\nexport const useAnswersVertical = <T>(\n  answers: AnswersCore,\n  verticalKey: string\n) => {\n  const [\n    verticalResponse,\n    setVerticalResponse,\n  ] = useState<VerticalSearchResponse>();\n  const [entities, setEntities] = useState<T[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [localState, setLocalState] = useImmer<{ facets: Facet[] }>({\n    facets: [],\n  });\n\n  const [isDirty, setIsDirty] = useState(true);\n  const [querySuggestions, setQuerySuggestions] = useState<\n    AutoCompleteResult[]\n  >([]);\n\n  const { facets } = localState;\n  const facetFilters = facets\n    .map((f) => {\n      return [\n        ...f.options\n          .filter((o) => o.selected)\n          .map((o) => {\n            return o.filter;\n          }),\n      ];\n    })\n    .flat();\n\n  const runSearch = async (q: string = query) => {\n    console.log(`Getting Results for ${q}`);\n    setLoading(true);\n    const res = await answers.verticalSearch({\n      query: q,\n      context: {},\n      verticalKey,\n      retrieveFacets: true,\n      facetFilters,\n    });\n    setVerticalResponse(res);\n    setEntities(res.verticalResults.results.map((r) => r.rawData as T));\n    setLoading(false);\n    setLocalState((f) => {\n      f.facets = (res.facets as Facet[]) || [];\n    });\n  };\n\n  const loadMore = async () => {\n    console.log(\"Loading More\");\n    const res = await answers.verticalSearch({\n      query,\n      context: {},\n      verticalKey,\n      retrieveFacets: true,\n      facetFilters,\n      offset: entities.length,\n    });\n\n    setEntities((e) => {\n      return [...e, ...res.verticalResults.results.map((r) => r.rawData as T)];\n    });\n  };\n\n  const toggleFacet = (facet: string, option: string) => {\n    setLocalState((s) => {\n      s.facets.forEach((f) => {\n        if (f.displayName === facet) {\n          f.options.forEach((o) => {\n            if (o.displayName === option) {\n              o.selected = !o.selected;\n            }\n          });\n        } else return;\n      });\n    });\n    setIsDirty(true);\n  };\n\n  const updateAutocomplete = async (q: string = query) => {\n    const res = await answers.verticalAutoComplete({\n      input: q,\n      verticalKey,\n    });\n    setQuerySuggestions(res.results);\n  };\n\n  useEffect(() => {\n    if (isDirty) {\n      runSearch(query);\n      setIsDirty(false);\n    }\n  }, [isDirty]);\n\n  return {\n    results: verticalResponse?.verticalResults,\n    facets,\n    toggleFacet,\n    runSearch,\n    updateAutocomplete,\n    querySuggestions,\n    entities,\n    loading,\n    loadMore,\n  };\n};\n","/Users/maxshaw/Documents/GitHub/answers-product-search/src/reportWebVitals.ts",[],["81","82"],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/ProductCard.tsx",["83"],"import React, { useState } from \"react\";\nimport { FaCartPlus, FaSearchPlus } from \"react-icons/fa\";\nimport { Product } from \"./types\";\n\ntype Props = {\n  //Insert Props Here\n  product: Product;\n  addToCart: () => void;\n  showQuickLook: () => void;\n};\n\nconst ProductCard = ({ product, showQuickLook, addToCart }: Props) => {\n  const [mouseOver, setMouseOver] = useState(false);\n\n  return (\n    <div\n      className=\"hover:shadow-xl hover:bg-white hover:z-30 hover:z-100 rounded cursor-pointer transform hover:scale-105 transition ease-in-out group overflow-hidden relative\"\n      onMouseEnter={() => setMouseOver(true)}\n      onMouseLeave={() => setMouseOver(false)}\n    >\n      <div className=\"p-4\" onClick={showQuickLook}>\n        <div className=\" aspect-w-4 aspect-h-2\">\n          {product.photoGallery.length > 0 && (\n            <div className=\"flex items-center  p-4\">\n              <img\n                src={product.photoGallery[2].image.url}\n                alt=\"\"\n                width=\"100%\"\n              />\n            </div>\n          )}\n        </div>\n        <div className=\"font-medium text-black mt-4\">{product.name}</div>\n        <div className=\"text-gray-500 font-light text-sm\">\n          {product.c_material}, {product.c_shape}\n        </div>\n        <div className=\"text-gray-500 font-light text-sm\">2 colors</div>\n        <div className=\" font-medium mt-2 text-sm\">${product.c_price}</div>\n      </div>\n\n      <div className=\"flex opacity-0 group-hover:opacity-100 text-gray-500 uppercase text-xs transition ease-in-out  justify-center\">\n        <div\n          className=\"flex justify-center items-center bg-gray-100 hover:bg-gray-200 px-2 py-2 cursor-pointer flex-grow\"\n          onClick={showQuickLook}\n        >\n          <FaSearchPlus className=\"mr-2\" />\n          Look\n        </div>\n        <div\n          className=\"flex justify-center items-center bg-gray-100 hover:bg-gray-200 px-2 py-2 cursor-pointer flex-grow\"\n          onClick={addToCart}\n        >\n          <FaCartPlus className=\"mr-2\" />\n          Cart\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard;\n",["84","85"],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/SearchBar.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/Facet.tsx",["86"],"import { Facet as FacetType, FacetOption } from \"@yext/answers-core\";\nimport classnames from \"classnames\";\nimport React, { useState } from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport { MdCheck } from \"react-icons/md\";\nimport FacetContainer from \"./FacetContainer\";\n\ntype Props = {\n  //Insert Props Here\n  facet: FacetType;\n  maxOptions?: number;\n  onSelectFacet: (option: FacetOption) => void;\n};\n\nconst Facet: React.FC<Props> = ({ facet, maxOptions = 10, onSelectFacet }) => {\n  const [query, setQuery] = useState(\"\");\n  const filteredOptions = facet.options\n    .filter((o, i) => {\n      const underMaxLength = i < maxOptions;\n      let queryMatch = false;\n      if (query.length > 0) {\n        queryMatch = o.displayName\n          .toLocaleLowerCase()\n          .includes(query.toLocaleLowerCase());\n      } else {\n        queryMatch = true;\n      }\n      return queryMatch && underMaxLength;\n    })\n    .sort((a, b) => {\n      if (a.selected && b.selected) return b.count - a.count;\n      else if (a.selected) return -1;\n      else if (b.selected) return 1;\n      else return b.count - a.count;\n    });\n\n  return (\n    <FacetContainer\n      name={facet.displayName}\n      count={facet.options.filter((o) => o.selected).length}\n    >\n      <FlipMove>\n        {filteredOptions.map((o) => (\n          <div\n            className=\"font-light text-gray-500 flex items-center mb-1 group cursor-pointer\"\n            key={o.displayName}\n            onClick={() => onSelectFacet(o)}\n          >\n            <div\n              className={classnames(\n                \"w-4 h-4 border mr-2 rounded-sm flex items-center justify-center\",\n                {\n                  \"bg-gray-600 border-gray-600\": o.selected,\n                  \"border group-hover:bg-gray-200 \": !o.selected,\n                }\n              )}\n            >\n              {o.selected && <MdCheck className=\"text-white\" />}\n            </div>\n            {o.displayName}{\" \"}\n            <span className=\"text-xs bg-gray-100 px-1 rounded-full text-gray-600 ml-2\">\n              {o.count}\n            </span>\n          </div>\n        ))}\n      </FlipMove>\n    </FacetContainer>\n  );\n};\n\nexport default Facet;\n","/Users/maxshaw/Documents/GitHub/answers-product-search/src/ProductOverlayCard.tsx",["87"],"import classnames from \"classnames\";\nimport React, { useState } from \"react\";\nimport { FaCartPlus, FaSearchPlus, FaTimes } from \"react-icons/fa\";\nimport { Product } from \"./types\";\n\ntype Props = {\n  //Insert Props Here\n  product: Product;\n  onClose: () => void;\n  addToCart: () => void;\n};\n\nconst ProductOverlayCard = ({ product, onClose, addToCart }: Props) => {\n  const [selectedImageURL, setSelectedImageURL] = useState(\n    product.photoGallery[2].image.url\n  );\n  const buttonClassName =\n    \"px-4 py-3  bg-gray-100 text-gray-500 flex items-center justify-center cursor-pointer hover:bg-gray-200\";\n  return (\n    <div className=\"bg-white rounded shadow-xl relative overflow-hidden\">\n      <div\n        className=\"text-gray-500 p-2 hover:bg-gray-100 absolute top-0 right-0 m-2 rounded cursor-pointer z-50\"\n        onClick={onClose}\n      >\n        <FaTimes />\n      </div>\n      <div className=\"p-4\">\n        <div className=\" aspect-w-4 aspect-h-2 z-10 mb-2\">\n          <div className=\"flex items-center  p-4 overflow-hidden\">\n            <img src={selectedImageURL} alt=\"\" width=\"100%\" />\n          </div>\n        </div>\n        <div className=\"grid grid-cols-6\">\n          {product.photoGallery.map((i, j) => (\n            <div\n              key={j}\n              className=\"px-2 flex items-center hover:opactiy-70\"\n              onMouseEnter={() => setSelectedImageURL(i.image.url)}\n            >\n              <div>\n                <img src={i.image.url} />\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"font-medium text-lg text-black mt-4\">\n          {product.name}\n        </div>\n        <div className=\"text-gray-500 font-light text-sm\">\n          {product.c_material}, {product.c_shape}\n        </div>\n        <div className=\"text-gray-500 font-light text-sm\">2 colors</div>\n        <div className=\" font-medium mt-2 text-sm\">${product.c_price}</div>\n      </div>\n      <div className=\"grid grid-cols-2\">\n        <div\n          onClick={addToCart}\n          className={classnames(\n            buttonClassName,\n            \" border-t border-r border-gray-200\"\n          )}\n        >\n          <FaCartPlus className=\"mr-2\" />\n          Add To Cart\n        </div>\n        <div\n          className={classnames(buttonClassName, \"border-t border-gray-200\")}\n        >\n          <FaSearchPlus className=\"mr-2\" />\n          View Details\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductOverlayCard;\n","/Users/maxshaw/Documents/GitHub/answers-product-search/src/Nav.tsx",["88"],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/Facets.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/ProductGrid.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/FacetContainer.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/ColorFacet.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/Modal.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/useCart.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/ResultsSummary.tsx",[],"/Users/maxshaw/Documents/GitHub/answers-product-search/src/store/AnswersStore.tsx",[],{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","severity":1,"message":"94","line":20,"column":17,"nodeType":"95","messageId":"96","endLine":20,"endColumn":25},{"ruleId":"97","severity":1,"message":"98","line":105,"column":6,"nodeType":"99","endLine":105,"endColumn":15,"suggestions":"100"},{"ruleId":"89","replacedBy":"101"},{"ruleId":"91","replacedBy":"102"},{"ruleId":"93","severity":1,"message":"103","line":13,"column":10,"nodeType":"95","messageId":"96","endLine":13,"endColumn":19},{"ruleId":"89","replacedBy":"104"},{"ruleId":"91","replacedBy":"105"},{"ruleId":"93","severity":1,"message":"94","line":16,"column":17,"nodeType":"95","messageId":"96","endLine":16,"endColumn":25},{"ruleId":"106","severity":1,"message":"107","line":41,"column":17,"nodeType":"108","endLine":41,"endColumn":42},{"ruleId":"106","severity":1,"message":"107","line":65,"column":23,"nodeType":"108","endLine":68,"endColumn":25},"no-native-reassign",["109"],"no-negated-in-lhs",["110"],"@typescript-eslint/no-unused-vars","'setQuery' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'query' and 'runSearch'. Either include them or remove the dependency array.","ArrayExpression",["111"],["109"],["110"],"'mouseOver' is assigned a value but never used.",["109"],["110"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"112","fix":"113"},"Update the dependencies array to be: [isDirty, query, runSearch]",{"range":"114","text":"115"},[2551,2560],"[isDirty, query, runSearch]"]