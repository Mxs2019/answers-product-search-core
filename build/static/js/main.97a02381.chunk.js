(this["webpackJsonpanswers-product-search"]=this["webpackJsonpanswers-product-search"]||[]).push([[0],{87:function(e,t,c){},88:function(e,t,c){"use strict";c.r(t);var s=c(2),r=c(1),n=c.n(r),a=c(6),i=c.n(a),l=c(14),o=c(3),d=c(35),u=c(4),j=c(8),m=c.n(j),x=c(36),b=c(13),h=function(e){var t=e.facet,c=e.maxOptions,n=void 0===c?10:c,a=e.onSelectFacet,i=Object(r.useState)(!0),l=Object(o.a)(i,2),d=l[0],j=l[1],h=t.options.filter((function(e,t){return t<n})).sort((function(e,t){return e.selected&&t.selected?t.count-e.count:e.selected?-1:t.selected?1:t.count-e.count}));return Object(s.jsxs)("div",{className:" py-2 mb-3",children:[Object(s.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:function(){return j((function(e){return!e}))},children:[Object(s.jsx)("div",{className:"text-black font-medium text-sm",children:t.displayName}),Object(s.jsx)("div",{className:m()("text-gray-500 transform ease-in-out transition",{"rotate-90":d}),children:Object(s.jsx)(u.c,{})})]}),d&&Object(s.jsx)("div",{className:"mt-2",children:Object(s.jsx)(x.a,{children:h.map((function(e){return Object(s.jsxs)("div",{className:"font-light text-gray-500 flex items-center mb-1 group cursor-pointer",onClick:function(){return a(e)},children:[Object(s.jsx)("div",{className:m()("w-4 h-4 border mr-2 rounded-sm flex items-center justify-center",{"bg-gray-600 border-gray-600":e.selected,"border group-hover:bg-gray-200 ":!e.selected}),children:e.selected&&Object(s.jsx)(b.a,{className:"text-white"})}),e.displayName," ",Object(s.jsx)("span",{className:"text-xs bg-gray-100 px-1 rounded-full text-gray-600 ml-2",children:e.count})]},e.displayName)}))})})]})},p=function(e){var t=e.shoppingCart,c=Object(r.useState)(!1),n=Object(o.a)(c,2),a=n[0],i=n[1];return Object(s.jsxs)("div",{className:"border-b flex justify-between items-stretch ",children:[Object(s.jsx)("div",{className:"text-xl font-light px-4 text-green-700 flex items-center",children:"Seaglass"}),Object(s.jsxs)("div",{className:"flex items-center text-gray-700 px-4",children:[Object(s.jsx)("div",{className:"px-4 py-2 hover:underline cursor-pointer",children:"Products"}),Object(s.jsx)("div",{className:"px-4 py-2 hover:underline cursor-pointer",children:"Locations"}),Object(s.jsx)("div",{className:"px-4 py-2 hover:underline cursor-pointer",children:"Support"}),Object(s.jsx)("div",{className:"px-4 py-2 hover:underline cursor-pointer",children:"About Us"})]}),Object(s.jsxs)("div",{className:"border-l p-4 text-gray-700 flex items-center",onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(s.jsx)(u.e,{}),t.length>0&&Object(s.jsx)("div",{className:"absolute right-0 top-0 m-2 p-1 h-4 w-4 flex items-center rounded-full bg-gray-700 text-gray-100 text-xs",children:t.length}),a&&Object(s.jsx)("div",{className:"flex flex-col absolute top-16 right-0 mr-2 rounded bg-white border shadow-lg z-50",children:t.map((function(e){return Object(s.jsxs)("div",{className:"border-b px-4 py-2 w-64 flex items-center",children:[Object(s.jsx)("div",{className:"w-24 mr-4",children:Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:e.product.photoGallery[2].image.sourceUrl,width:"100%"})})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"font-medium",children:e.product.name}),Object(s.jsxs)("div",{className:"text-gray-500 text-sm",children:[e.quantity," x $",e.product.c_price]})]})]})}))})]})]})},f=function(e){var t=e.product,c=e.showQuickLook,n=e.addToCart,a=Object(r.useState)(!1),i=Object(o.a)(a,2),l=(i[0],i[1]);return Object(s.jsxs)("div",{className:"hover:shadow-xl hover:bg-white hover:z-30 hover:z-100 rounded cursor-pointer transform hover:scale-105 transition ease-in-out group overflow-hidden relative",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[Object(s.jsxs)("div",{className:"p-4",onClick:c,children:[Object(s.jsx)("div",{className:" aspect-w-4 aspect-h-2",children:t.photoGallery.length>0&&Object(s.jsx)("div",{className:"flex items-center  p-4",children:Object(s.jsx)("img",{src:t.photoGallery[2].image.url,alt:"",width:"100%"})})}),Object(s.jsx)("div",{className:"font-medium text-black mt-4",children:t.name}),Object(s.jsxs)("div",{className:"text-gray-500 font-light text-sm",children:[t.c_material,", ",t.c_shape]}),Object(s.jsx)("div",{className:"text-gray-500 font-light text-sm",children:"2 colors"}),Object(s.jsxs)("div",{className:" font-medium mt-2 text-sm",children:["$",t.c_price]})]}),Object(s.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 text-gray-500 uppercase text-xs transition ease-in-out  justify-center",children:[Object(s.jsxs)("div",{className:"flex justify-center items-center bg-gray-100 hover:bg-gray-200 px-2 py-2 cursor-pointer flex-grow",onClick:c,children:[Object(s.jsx)(u.d,{className:"mr-2"}),"Look"]}),Object(s.jsxs)("div",{className:"flex justify-center items-center bg-gray-100 hover:bg-gray-200 px-2 py-2 cursor-pointer flex-grow",onClick:n,children:[Object(s.jsx)(u.a,{className:"mr-2"}),"Cart"]})]})]})},g=function(e){var t=e.product,c=e.onClose,n=e.addToCart,a=Object(r.useState)(t.photoGallery[2].image.url),i=Object(o.a)(a,2),l=i[0],d=i[1],j="px-4 py-3  bg-gray-100 text-gray-500 flex items-center justify-center cursor-pointer hover:bg-gray-200";return Object(s.jsxs)("div",{className:"bg-white rounded shadow-xl relative overflow-hidden",children:[Object(s.jsx)("div",{className:"text-gray-500 p-2 hover:bg-gray-100 absolute top-0 right-0 m-2 rounded cursor-pointer z-50",onClick:c,children:Object(s.jsx)(u.g,{})}),Object(s.jsxs)("div",{className:"p-4",children:[Object(s.jsx)("div",{className:" aspect-w-4 aspect-h-2 z-10 mb-2",children:Object(s.jsx)("div",{className:"flex items-center  p-4 overflow-hidden",children:Object(s.jsx)("img",{src:l,alt:"",width:"100%"})})}),Object(s.jsx)("div",{className:"grid grid-cols-6",children:t.photoGallery.map((function(e,t){return Object(s.jsx)("div",{className:"px-2 flex items-center hover:opactiy-70",onMouseEnter:function(){return d(e.image.url)},children:Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:e.image.url})})},t)}))}),Object(s.jsx)("div",{className:"font-medium text-lg text-black mt-4",children:t.name}),Object(s.jsxs)("div",{className:"text-gray-500 font-light text-sm",children:[t.c_material,", ",t.c_shape]}),Object(s.jsx)("div",{className:"text-gray-500 font-light text-sm",children:"2 colors"}),Object(s.jsxs)("div",{className:" font-medium mt-2 text-sm",children:["$",t.c_price]})]}),Object(s.jsxs)("div",{className:"grid grid-cols-2",children:[Object(s.jsxs)("div",{onClick:n,className:m()(j," border-t border-r border-gray-200"),children:[Object(s.jsx)(u.a,{className:"mr-2"}),"Add To Cart"]}),Object(s.jsxs)("div",{className:m()(j,"border-t border-gray-200"),children:[Object(s.jsx)(u.d,{className:"mr-2"}),"View Details"]})]})]})},v=function(e){var t=e.runSearch,c=e.placeholder,n=void 0===c?"Search ...":c,a=e.loading,i=e.querySuggestions,l=void 0===i?[]:i,d=e.updateAutocomplete,j=Object(r.useRef)(null),x=Object(r.useState)(""),h=Object(o.a)(x,2),p=h[0],f=h[1],g=Object(r.useState)(!1),v=Object(o.a)(g,2),O=v[0],y=v[1],N=Object(r.useState)(-1),w=Object(o.a)(N,2),S=w[0],C=w[1],k=Object(r.useState)(!1),T=Object(o.a)(k,2),q=T[0],D=T[1],F=O&&l.length>0&&!q;return Object(s.jsxs)("div",{className:"relative mx-2 mt-2",children:[Object(s.jsxs)("form",{className:"py-2 px-2 mb-2 flex items-center focus-within:shodow-lg focus-within:border group text-gray-700",onSubmit:function(e){if(e.preventDefault(),S>-1){var c=l[S].value;f(c),t(c)}else t(p);D(!0)},children:[Object(s.jsx)(b.b,{className:"mr-2 text-gray-600 text-xl"}),Object(s.jsx)("input",{onFocus:function(){return y(!0)},onBlur:function(){return y(!1)},ref:j,value:p,placeholder:n,onChange:function(e){f(e.target.value),d(e.target.value),C(-1),D(!1)},className:"w-full focus:outline-none font-light bg-transparent",onKeyDown:function(e){"ArrowDown"===e.key?(e.preventDefault(),C((function(e){return Math.min(e+1,l.length-1)}))):"ArrowUp"===e.key&&(e.preventDefault(),C((function(e){return Math.max(e-1,-1)})))}}),a&&Object(s.jsx)(u.f,{className:"animate-spin text-gray-500"}),!a&&p.length>0&&Object(s.jsx)(u.h,{className:"text-gray-300 cursor-pointer group-hover:opacity-100 opacity-0",onClick:function(){f(""),t(""),d("")}})]}),F&&Object(s.jsx)("div",{className:"absolute top-0 mt-12 left-0 right-0 bg-white text-gray-700 font-light border-b z-50",children:l.map((function(e,c){return Object(s.jsxs)("div",{onMouseDown:function(){f(e.value),t(e.value)},className:m()("py-1 px-4 hover:bg-gray-100 cursor-pointer flex items-center",{"bg-gray-100":S===c}),children:[Object(s.jsx)(b.b,{className:"mr-2 text-gray-600"}),e.value]})}))})]})},O=c(7),y=c.n(O),N=c(23),w=c(37),S=c(38),C=Object(d.provideCore)({apiKey:"7bce922a5847aff36dc33345921ba700",experienceKey:"dtc_demo",experienceVersion:"PRODUCTION",locale:"en"});var k=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),c=t[0],n=t[1],a=function(e,t){var c=Object(r.useState)(),s=Object(o.a)(c,2),n=s[0],a=s[1],i=Object(r.useState)([]),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(r.useState)(!1),m=Object(o.a)(j,2),x=m[0],b=m[1],h=Object(r.useState)(""),p=Object(o.a)(h,2),f=p[0],g=p[1],v=Object(S.a)({facets:[]}),O=Object(o.a)(v,2),C=O[0],k=O[1],T=Object(r.useState)(!0),q=Object(o.a)(T,2),D=q[0],F=q[1],A=Object(r.useState)([]),z=Object(o.a)(A,2),L=z[0],M=z[1],_=C.facets,E=_.map((function(e){return Object(w.a)(e.options.filter((function(e){return e.selected})).map((function(e){return e.filter})))})).flat(),G=function(){var c=Object(N.a)(y.a.mark((function c(){var s,r,n=arguments;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=n.length>0&&void 0!==n[0]?n[0]:f,console.log("Getting Results for ".concat(s)),b(!0),c.next=5,e.verticalSearch({query:s,context:{},verticalKey:t,retrieveFacets:!0,facetFilters:E});case 5:r=c.sent,console.log(r.verticalResults.results),a(r),u(r.verticalResults.results.map((function(e){return e.rawData}))),b(!1),k((function(e){e.facets=r.facets||[]}));case 11:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),R=function(){var c=Object(N.a)(y.a.mark((function c(){var s,r,n=arguments;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=n.length>0&&void 0!==n[0]?n[0]:f,c.next=3,e.verticalAutoComplete({input:s,verticalKey:t});case 3:r=c.sent,M(r.results);case 5:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(r.useEffect)((function(){D&&(G(f),F(!1))}),[D]),{results:null===n||void 0===n?void 0:n.verticalResults,facets:_,query:f,setQuery:g,toggleFacet:function(e,t){k((function(c){c.facets.forEach((function(c){c.displayName===e&&c.options.forEach((function(e){e.displayName===t&&(e.selected=!e.selected)}))}))})),F(!0)},runSearch:G,updateAutocomplete:R,querySuggestions:L,entities:d,loading:x}}(C,"products"),i=a.runSearch,d=(a.setQuery,a.query,a.loading),j=a.results,m=a.facets,x=a.updateAutocomplete,b=a.toggleFacet,O=a.querySuggestions,k=a.entities,T=Object(r.useState)([]),q=Object(o.a)(T,2),D=q[0],F=q[1],A=Object(l.useToasts)().addToast,z=function(e){F((function(t){var c=!1,s=t.map((function(t){return t.product.id===e.id?(c=!0,{product:e,quantity:t.quantity+1}):t}));return c||s.push({quantity:1,product:e}),s})),A(Object(s.jsxs)("div",{className:"py-2 px-4 flex items-center font-light bg-gray-600 text-white text-sm  shadow-sm z-50 rounded-sm mb-2 mr-4 mt-4",children:[Object(s.jsx)(u.a,{}),Object(s.jsx)("div",{className:"ml-2",children:"Added"}),Object(s.jsx)("span",{className:"font-medium ml-1",children:e.name}),Object(s.jsx)("div",{className:"ml-1",children:"to cart"})]}),{appearance:"success",autoDismiss:!0})};return Object(s.jsxs)("div",{className:"mb-12",children:[Object(s.jsx)(p,{shoppingCart:D}),Object(s.jsxs)("div",{className:"flex",children:[Object(s.jsxs)("div",{className:" w-72 xl:w-80",children:[Object(s.jsx)(v,{runSearch:i,placeholder:"Search for glasses...",loading:d,updateAutocomplete:x,querySuggestions:O}),Object(s.jsx)("div",{className:"flex flex-col px-4 pb-4 ",children:m&&m.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(h,{facet:e,onSelectFacet:function(t){return b(e.displayName,t.displayName)}})},e.fieldId)}))})]}),Object(s.jsxs)("div",{className:"p-4 flex-grow",children:[Object(s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[Object(s.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",null===j||void 0===j?void 0:j.results.length," of ",null===j||void 0===j?void 0:j.resultsCount," ","glasses"]}),Object(s.jsxs)("div",{className:"text-gray-500 text-sm flex items-center hover:underline cursor-pointer",children:["Sort By ",Object(s.jsx)(u.b,{className:"ml-2"})]})]}),Object(s.jsx)("div",{className:"grid  grid-cols-1 md:grid-cols-2 lg:grid-cols-4 2xl:grid-cols-6 ",children:k.map((function(e,t){return Object(s.jsx)(f,{product:e,showQuickLook:function(){return n(e)},addToCart:function(){return z(e)}},e.id)}))}),Object(s.jsx)("div",{className:"flex items-center justify-center",children:Object(s.jsx)("div",{className:" text-sm text-gray-500 px-4 py-1 hover:bg-gray-100 cursor-pointer rounded",children:"Load more"})})]}),c&&Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"fixed left-0 right-0 top-0 bottom-0 bg-gray-400 opacity-40 z-40",onClick:function(){return n(null)}}),Object(s.jsx)("div",{className:"fixed left-0 right-0 top-0 bottom-0 z-50 flex items-center justify-center",children:Object(s.jsx)("div",{className:"w-1/2",children:Object(s.jsx)(g,{addToCart:function(){z(c),n(null)},product:c,onClose:function(){return n(null)}})})})]})]})]})},T=(c(87),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(t){var c=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,a=t.getTTFB;c(e),s(e),r(e),n(e),a(e)}))});i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(l.ToastProvider,{components:{Toast:function(e){var t=e.children;return Object(s.jsx)("div",{className:"",children:t})}},children:Object(s.jsx)(k,{})})}),document.getElementById("root")),T()}},[[88,1,2]]]);
//# sourceMappingURL=main.97a02381.chunk.js.map