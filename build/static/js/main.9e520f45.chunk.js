(this["webpackJsonpanswers-product-search"]=this["webpackJsonpanswers-product-search"]||[]).push([[0],{98:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t);var r=c(1),s=c(2),n=c.n(s),a=c(6),i=c.n(a),o=c(15),l=c(3),d=c(39),u=(c(90),c(12)),j=c(11),m=c(40),x=c.n(m),b=c(8),h=c.n(b),f=c(4),p=function(e){var t=e.children,c=e.name,n=e.count,a=Object(s.useState)(!0),i=Object(l.a)(a,2),o=i[0],d=i[1];return Object(r.jsxs)("div",{className:" py-2 mb-3",children:[Object(r.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:function(){return d((function(e){return!e}))},children:[Object(r.jsxs)("div",{className:"text-black font-medium text-sm flex itesm-center",children:[Object(r.jsx)("div",{children:c}),n>0&&Object(r.jsxs)("div",{className:"ml-1",children:["(",n,")"]})]}),Object(r.jsx)("div",{className:h()("text-gray-500 transform ease-in-out transition",{"rotate-90":o}),children:Object(r.jsx)(f.c,{})})]}),o&&Object(r.jsx)("div",{className:"mt-2",children:t})]})},g=function(e){var t=e.facet,c=e.maxOptions,s=void 0===c?10:c,n=e.onSelectFacet,a=t.options.filter((function(e,t){return t<s})).sort((function(e,t){return e.displayName.localeCompare(t.displayName)}));return Object(r.jsx)(p,{name:t.displayName,count:t.options.filter((function(e){return e.selected})).length,children:Object(r.jsx)(u.a,{className:"grid grid-cols-3",children:a.map((function(e){return Object(r.jsxs)("div",{className:"font-light flex flex-col items-center mb-3 group cursor-pointer hover:opacity-75",onClick:function(){return n(e)},children:[Object(r.jsxs)("div",{className:"h-6 w-6 rounded-full mb-1 group-hover:opactiy-75 flex items-center justify-center",style:{backgroundColor:x()(e.displayName)},children:[e.selected&&Object(r.jsx)(j.a,{className:"text-white"}),!e.selected&&Object(r.jsx)("div",{className:"text-white text-xs opacity-60",children:e.count})]}),Object(r.jsx)("div",{className:"text-xs text-light text-gray-600",children:e.displayName})]},e.displayName)}))})})},v=function(e){var t=e.facet,c=e.maxOptions,n=void 0===c?10:c,a=e.onSelectFacet,i=Object(s.useState)(""),o=Object(l.a)(i,2),d=o[0],m=(o[1],t.options.filter((function(e,t){var c=t<n;return(!(d.length>0)||e.displayName.toLocaleLowerCase().includes(d.toLocaleLowerCase()))&&c})).sort((function(e,t){return e.selected&&t.selected?t.count-e.count:e.selected?-1:t.selected?1:t.count-e.count})));return Object(r.jsx)(p,{name:t.displayName,count:t.options.filter((function(e){return e.selected})).length,children:Object(r.jsx)(u.a,{children:m.map((function(e){return Object(r.jsxs)("div",{className:"font-light text-gray-500 flex items-center mb-1 group cursor-pointer",onClick:function(){return a(e)},children:[Object(r.jsx)("div",{className:h()("w-4 h-4 border mr-2 rounded-sm flex items-center justify-center",{"bg-gray-600 border-gray-600":e.selected,"border group-hover:bg-gray-200 ":!e.selected}),children:e.selected&&Object(r.jsx)(j.a,{className:"text-white"})}),e.displayName," ",Object(r.jsx)("span",{className:"text-xs bg-gray-100 px-1 rounded-full text-gray-600 ml-2",children:e.count})]},e.displayName)}))})})},O=function(e){var t=e.facets,c=e.toggleFacet;return Object(r.jsx)("div",{className:"flex flex-col px-4 pb-4 mt-4",children:t&&t.map((function(e){return Object(r.jsxs)("div",{children:["c_color"!==e.fieldId&&Object(r.jsx)(v,{facet:e,onSelectFacet:function(t){return c(e.displayName,t.displayName)}}),"c_color"===e.fieldId&&Object(r.jsx)(g,{facet:e,onSelectFacet:function(t){return c(e.displayName,t.displayName)}})]},e.fieldId)}))})},y=function(e){var t=e.children;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"fixed left-0 right-0 top-0 bottom-0 bg-gray-400 opacity-80 z-40"}),Object(r.jsx)("div",{className:"fixed left-0 right-0 top-0 bottom-0 z-50 flex items-center justify-center",children:Object(r.jsx)("div",{className:"w-1/2",children:t})})]})},N=function(e){var t=e.runSearch,c=e.placeholder,n=void 0===c?"Search ...":c,a=e.loading,i=e.querySuggestions,o=void 0===i?[]:i,d=e.updateAutocomplete,u=Object(s.useRef)(null),m=Object(s.useState)(""),x=Object(l.a)(m,2),b=x[0],p=x[1],g=Object(s.useState)(!1),v=Object(l.a)(g,2),O=v[0],y=v[1],N=Object(s.useState)(-1),w=Object(l.a)(N,2),S=w[0],C=w[1],k=Object(s.useState)(!1),F=Object(l.a)(k,2),L=F[0],M=F[1],T=O&&o.length>0&&!L;return Object(r.jsxs)("div",{className:"relative mx-2 mt-2",children:[Object(r.jsxs)("form",{className:"py-2 px-2 mb-2 flex items-center focus-within:shodow-lg focus-within:border group text-gray-700",onSubmit:function(e){if(e.preventDefault(),S>-1){var c=o[S].value;p(c),t(c)}else t(b);M(!0)},children:[Object(r.jsx)(j.b,{className:"mr-2 text-gray-600 text-xl"}),Object(r.jsx)("input",{onFocus:function(){return y(!0)},onBlur:function(){return y(!1)},ref:u,value:b,placeholder:n,onChange:function(e){p(e.target.value),d(e.target.value),C(-1),M(!1)},className:"w-full focus:outline-none font-light bg-transparent",onKeyDown:function(e){"ArrowDown"===e.key?(e.preventDefault(),C((function(e){return Math.min(e+1,o.length-1)}))):"ArrowUp"===e.key&&(e.preventDefault(),C((function(e){return Math.max(e-1,-1)})))}}),a&&Object(r.jsx)(f.f,{className:"animate-spin text-gray-500"}),!a&&b.length>0&&Object(r.jsx)(f.h,{className:"text-gray-300 cursor-pointer group-hover:opacity-100 opacity-0",onClick:function(){p(""),t(""),d("")}})]}),T&&Object(r.jsx)("div",{className:"absolute top-0 mt-10 left-0 right-0 bg-white text-gray-700 font-light border-b border-l border-r shadow-lg z-50",children:o.map((function(e,c){return Object(r.jsxs)("div",{onMouseDown:function(){p(e.value),t(e.value)},className:h()("py-1 px-4 hover:bg-gray-100 cursor-pointer flex items-center",{"bg-gray-100":S===c}),children:[Object(r.jsx)(j.b,{className:"mr-2 text-gray-600"}),e.value]})}))})]})},w=function(e){var t=e.shoppingCart,c=e.updateAutocomplete,n=e.querySuggestions,a=e.loading,i=e.runSearch,o=Object(s.useState)(!1),d=Object(l.a)(o,2),u=d[0],j=d[1];return Object(r.jsxs)("div",{className:"border-b flex justify-between items-stretch ",children:[Object(r.jsx)("div",{className:"text-xl font-light px-4 text-green-700 flex items-center",children:"Seaglass"}),Object(r.jsxs)("div",{className:" items-center text-gray-700 px-4 hidden md:flex",children:[Object(r.jsx)("div",{className:"px-4 py-3 hover:underline cursor-pointer",children:"Products"}),Object(r.jsx)("div",{className:"px-4 py-3 hover:underline cursor-pointer",children:"Locations"}),Object(r.jsx)("div",{className:"px-4 py-3 hover:underline cursor-pointer",children:"Support"}),Object(r.jsx)("div",{className:"px-4 py-3 hover:underline cursor-pointer",children:"About Us"})]}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)(N,{runSearch:i,placeholder:"Search for glasses...",loading:a,updateAutocomplete:c,querySuggestions:n}),Object(r.jsxs)("div",{className:"border-l p-4 text-gray-700 flex items-center",onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},children:[Object(r.jsx)(f.e,{}),t.length>0&&Object(r.jsx)("div",{className:"absolute right-0 top-0 m-2 p-1 h-4 w-4 flex items-center rounded-full bg-gray-700 text-gray-100 text-xs",children:t.length}),u&&Object(r.jsx)("div",{className:"flex flex-col absolute top-16 right-0 mr-2 rounded bg-white border shadow-lg z-50",children:t.map((function(e){return Object(r.jsxs)("div",{className:"border-b px-4 py-2 w-64 flex items-center",children:[Object(r.jsx)("div",{className:"w-24 mr-4",children:Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:e.product.photoGallery[2].image.sourceUrl,width:"100%"})})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"font-medium",children:e.product.name}),Object(r.jsxs)("div",{className:"text-gray-500 text-sm",children:[e.quantity," x $",e.product.c_price]})]})]})}))})]})]})]})},S=c(41),C=function(e){var t=e.product,c=e.showQuickLook,n=e.addToCart,a=Object(s.useState)(!1),i=Object(l.a)(a,2),o=(i[0],i[1]);return Object(r.jsxs)("div",{className:"hover:shadow-xl hover:bg-white hover:z-30 hover:z-100 rounded cursor-pointer transform hover:scale-105 transition ease-in-out group overflow-hidden relative",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(r.jsxs)("div",{className:"p-4",onClick:c,children:[Object(r.jsx)("div",{className:" aspect-w-4 aspect-h-2",children:t.photoGallery.length>0&&Object(r.jsx)("div",{className:"flex items-center  p-4",children:Object(r.jsx)("img",{src:t.photoGallery[2].image.url,alt:"",width:"100%"})})}),Object(r.jsx)("div",{className:"font-medium text-black mt-4",children:t.name}),Object(r.jsxs)("div",{className:"text-gray-500 font-light text-sm",children:[t.c_material,", ",t.c_shape]}),Object(r.jsx)("div",{className:"text-gray-500 font-light text-sm",children:"2 colors"}),Object(r.jsxs)("div",{className:" font-medium mt-2 text-sm",children:["$",t.c_price]})]}),Object(r.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 text-gray-500 uppercase text-xs transition ease-in-out  justify-center",children:[Object(r.jsxs)("div",{className:"flex justify-center items-center bg-gray-100 hover:bg-gray-200 px-2 py-2 cursor-pointer flex-grow",onClick:c,children:[Object(r.jsx)(f.d,{className:"mr-2"}),"Look"]}),Object(r.jsxs)("div",{className:"flex justify-center items-center bg-gray-100 hover:bg-gray-200 px-2 py-2 cursor-pointer flex-grow",onClick:n,children:[Object(r.jsx)(f.a,{className:"mr-2"}),"Cart"]})]})]})},k=function(e){var t=e.results,c=e.products,s=e.loadMore,n=e.onQuickLook,a=e.onAddToCart;return Object(r.jsx)(S.a,{className:"overflow-x-auto",style:{overflow:"visible"},hasMore:t.resultsCount>c.length,next:s,dataLength:c.length,endMessage:Object(r.jsx)("div",{className:"mt-12 mb-4 text-center text-gray-500 font-light text-sm",children:"that's all..."}),loader:Object(r.jsx)("div",{className:"h-12 flex items-center justify-center",children:Object(r.jsx)(f.f,{className:"animate-spin text-gray-500"})}),children:Object(r.jsx)(u.a,{className:"grid  grid-cols-1 md:grid-cols-2 lg:grid-cols-4 2xl:grid-cols-6",children:c.map((function(e,t){return Object(r.jsx)("div",{className:"overflow-visible z-40",children:Object(r.jsx)(C,{product:e,showQuickLook:function(){return n(e)},addToCart:function(){return a(e)}})},e.id)}))})})},F=function(e){var t=e.product,c=e.onClose,n=e.addToCart,a=Object(s.useState)(t.photoGallery[2].image.url),i=Object(l.a)(a,2),o=i[0],d=i[1],u="px-4 py-3  bg-gray-100 text-gray-500 flex items-center justify-center cursor-pointer hover:bg-gray-200";return Object(r.jsxs)("div",{className:"bg-white rounded shadow-xl relative overflow-hidden",children:[Object(r.jsx)("div",{className:"text-gray-500 p-2 hover:bg-gray-100 absolute top-0 right-0 m-2 rounded cursor-pointer z-50",onClick:c,children:Object(r.jsx)(f.g,{})}),Object(r.jsxs)("div",{className:"p-4",children:[Object(r.jsx)("div",{className:" aspect-w-4 aspect-h-2 z-10 mb-2",children:Object(r.jsx)("div",{className:"flex items-center  p-4 overflow-hidden",children:Object(r.jsx)("img",{src:o,alt:"",width:"100%"})})}),Object(r.jsx)("div",{className:"grid grid-cols-6",children:t.photoGallery.map((function(e,t){return Object(r.jsx)("div",{className:"px-2 flex items-center hover:opactiy-70",onMouseEnter:function(){return d(e.image.url)},children:Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:e.image.url})})},t)}))}),Object(r.jsx)("div",{className:"font-medium text-lg text-black mt-4",children:t.name}),Object(r.jsxs)("div",{className:"text-gray-500 font-light text-sm",children:[t.c_material,", ",t.c_shape]}),Object(r.jsx)("div",{className:"text-gray-500 font-light text-sm",children:"2 colors"}),Object(r.jsxs)("div",{className:" font-medium mt-2 text-sm",children:["$",t.c_price]})]}),Object(r.jsxs)("div",{className:"grid grid-cols-2",children:[Object(r.jsxs)("div",{onClick:n,className:h()(u," border-t border-r border-gray-200"),children:[Object(r.jsx)(f.a,{className:"mr-2"}),"Add To Cart"]}),Object(r.jsxs)("div",{className:h()(u,"border-t border-gray-200"),children:[Object(r.jsx)(f.d,{className:"mr-2"}),"View Details"]})]})]})},L=function(e){var t=e.totalResults,c=e.visibleResults;return Object(r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[Object(r.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",c," of ",t," glasses"]}),Object(r.jsxs)("div",{className:"text-gray-500 text-sm flex items-center hover:underline cursor-pointer",children:["Sort By ",Object(r.jsx)(f.b,{className:"ml-2"})]})]})},M=c(7),T=c.n(M),A=c(17),q=c(18),D=c(42),z=Object(d.provideCore)({apiKey:"7bce922a5847aff36dc33345921ba700",experienceKey:"dtc_demo",experienceVersion:"PRODUCTION",locale:"en"});var R=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],a=function(e,t){var c=Object(s.useState)(),r=Object(l.a)(c,2),n=r[0],a=r[1],i=Object(s.useState)([]),o=Object(l.a)(i,2),d=o[0],u=o[1],j=Object(s.useState)(!1),m=Object(l.a)(j,2),x=m[0],b=m[1],h=Object(s.useState)(""),f=Object(l.a)(h,2),p=f[0],g=(f[1],Object(D.a)({facets:[]})),v=Object(l.a)(g,2),O=v[0],y=v[1],N=Object(s.useState)(!0),w=Object(l.a)(N,2),S=w[0],C=w[1],k=Object(s.useState)([]),F=Object(l.a)(k,2),L=F[0],M=F[1],z=O.facets,R=z.map((function(e){return Object(q.a)(e.options.filter((function(e){return e.selected})).map((function(e){return e.filter})))})).flat(),_=function(){var c=Object(A.a)(T.a.mark((function c(){var r,s,n=arguments;return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:p,console.log("Getting Results for ".concat(r)),b(!0),c.next=5,e.verticalSearch({query:r,context:{},verticalKey:t,retrieveFacets:!0,facetFilters:R});case 5:s=c.sent,a(s),u(s.verticalResults.results.map((function(e){return e.rawData}))),b(!1),y((function(e){e.facets=s.facets||[]}));case 10:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),E=function(){var c=Object(A.a)(T.a.mark((function c(){var r;return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("Loading More"),c.next=3,e.verticalSearch({query:p,context:{},verticalKey:t,retrieveFacets:!0,facetFilters:R,offset:d.length});case 3:r=c.sent,u((function(e){return[].concat(Object(q.a)(e),Object(q.a)(r.verticalResults.results.map((function(e){return e.rawData}))))}));case 5:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),P=function(){var c=Object(A.a)(T.a.mark((function c(){var r,s,n=arguments;return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:p,c.next=3,e.verticalAutoComplete({input:r,verticalKey:t});case 3:s=c.sent,M(s.results);case 5:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(s.useEffect)((function(){S&&(_(p),C(!1))}),[S]),{results:null===n||void 0===n?void 0:n.verticalResults,facets:z,toggleFacet:function(e,t){y((function(c){c.facets.forEach((function(c){c.displayName===e&&c.options.forEach((function(e){e.displayName===t&&(e.selected=!e.selected)}))}))})),C(!0)},runSearch:_,updateAutocomplete:P,querySuggestions:L,entities:d,loading:x,loadMore:E}}(z,"products"),i=a.runSearch,d=a.loadMore,u=a.loading,j=a.results,m=a.facets,x=a.updateAutocomplete,b=a.toggleFacet,h=a.querySuggestions,p=a.entities,g=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(o.useToasts)().addToast;return{shoppingCart:c,addProductToCart:function(e){n((function(t){var c=!1,r=t.map((function(t){return t.product.id===e.id?(c=!0,{product:e,quantity:t.quantity+1}):t}));return c||r.push({quantity:1,product:e}),r})),a(Object(r.jsxs)("div",{className:"py-2 px-4 flex items-center font-light bg-gray-600 text-white text-sm  shadow-sm z-50 rounded-sm mb-2 mr-4 mt-4",children:[Object(r.jsx)(f.a,{}),Object(r.jsx)("div",{className:"ml-2",children:"Added"}),Object(r.jsx)("span",{className:"font-medium ml-1",children:e.name}),Object(r.jsx)("div",{className:"ml-1",children:"to cart"})]}),{appearance:"success",autoDismiss:!0})}}}(),v=g.shoppingCart,N=g.addProductToCart;return Object(r.jsxs)("div",{className:"mb-12 relative",children:[Object(r.jsx)(w,{shoppingCart:v,querySuggestions:h,updateAutocomplete:x,runSearch:i,loading:u}),Object(r.jsxs)("div",{className:"flex items-start",children:[Object(r.jsx)("div",{className:"w-64 xl:w-72 sticky top-0 max-h-screen overflow-y-auto pb-12 hidden md:block",children:Object(r.jsx)(O,{facets:m,toggleFacet:b})}),j&&Object(r.jsxs)("div",{className:"p-4 flex-grow",children:[Object(r.jsx)(L,{totalResults:j.resultsCount,visibleResults:p.length}),Object(r.jsx)(k,{products:p,results:j,loadMore:d,onAddToCart:N,onQuickLook:function(e){return n(e)}})]}),c&&Object(r.jsx)(y,{children:Object(r.jsx)(F,{addToCart:function(){N(c),n(null)},product:c,onClose:function(){return n(null)}})})]})]})},_=(c(98),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,100)).then((function(t){var c=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,a=t.getTTFB;c(e),r(e),s(e),n(e),a(e)}))});i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(o.ToastProvider,{components:{Toast:function(e){var t=e.children;return Object(r.jsx)("div",{className:"",children:t})}},children:Object(r.jsx)(R,{})})}),document.getElementById("root")),_()}},[[99,1,2]]]);
//# sourceMappingURL=main.9e520f45.chunk.js.map