{"version":3,"sources":["../../src/initialState.ts","../../src/facetUtilties.tsx","../../src/reducer.ts","../../src/AnswersStore.tsx","../../node_modules/regenerator-runtime/runtime.js","../../src/useAnswers.ts","../../src/AnswersContext.tsx","../../src/useQueryParamManager.ts","FacetContainer.tsx","ColorFacet.tsx","Facet.tsx","Facets.tsx","Modal.tsx","SearchBar.tsx","Nav.tsx","ProductCard.tsx","ProductGrid.tsx","ProductOverlayCard.tsx","SortByController.tsx","ResultsSummary.tsx","App.tsx","useCart.tsx","reportWebVitals.ts","index.tsx"],"names":["initialState","loading","error","core","hasSearched","verticalKey","visibleSearchTerm","lastSearchedTerm","originalSearchTerm","verticalresults","results","entities","facets","appliedQueryFilters","facetFilters","autocomplete","querySuggestions","recentSearches","autocompleteOptions","selectedIndex","debug","getFacetFilters","f","o","toggleFacetObject","updatedFacets","sortFacets","options","a","b","reducer","state","action","console","facetSorter","searchTerm","config","provideCore","response","newFacetFilters","g","appliedFilters","matchedIndex","af","displayName","fieldId","source","values","s","value","type","q","key","nextIndex","Math","highlighted","i","prevIndex","newVisibleSearchTerm","sortBys","AppContext","createContext","dispatch","AnswersStore","children","useReducer","runtime","exports","undefined","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","constructor","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","toString","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","recentSearchesController","useAnswers","useContext","runSearch","clearFacets","handleSearch","query","retrieveFacets","res","handleSearchTermChange","input","updateSortBys","updateSearchResults","actions","chooseAutocompleteOption","index","option","toggleFacet","removed","updatedFacetFilters","comparator","comparedValue","optionDisplayName","loadMore","offset","setConfiguration","nextAutocompleteOption","prevAutocompleteOption","clearSearch","selected","AnswersContext","props","React","Inner","runSearchOnLoad","queryParams","useQueryParams","filters","JsonParam","setQueryParams","useEffect","useQueryParamManager","FacetContainer","count","useState","expanded","setExpanded","className","onClick","e","classnames","ColorFacet","facet","maxOptions","onSelectFacet","filteredOptions","filter","sort","localeCompare","map","style","backgroundColor","stc","Facet","underMaxLength","toLocaleLowerCase","includes","Facets","Modal","SearchBar","placeholder","inputElement","useRef","isFocused","setIsFocused","showQuerySuggestion","borderRadius","onSubmit","preventDefault","onFocus","onBlur","ref","onChange","target","onKeyDown","onMouseDown","Nav","shoppingCart","showingCart","setShowingCart","onMouseEnter","onMouseLeave","c","src","product","rawData","photoGallery","image","sourceUrl","width","quantity","c_price","ProductCard","showQuickLook","addToCart","c_shape","c_material","url","alt","ProductGrid","onQuickLook","onAddToCart","products","overflow","hasMore","resultsCount","dataLength","endMessage","loader","p","id","ProductOverlayCard","onClose","selectedImageURL","setSelectedImageURL","buttonClassName","j","onTouchStart","SortByController","selectedSortOption","setSelectedSortOption","showingOptions","setShowingOptions","sortOptions","label","field","direction","newIndex","ResultsSummary","onToggleFilters","v","join","App","quickLookProduct","setQuickLookProduct","showingMobileFilters","setShowingMobileFilters","setShoppingCart","addToast","useToasts","addProductToCart","cart","added","updatedCart","appearance","autoDismiss","useCart","toLocaleString","href","rel","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","components","Toast","apiKey","experienceKey","experienceVersion","locale","document","getElementById"],"mappings":"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","file":"static/js/main.0d23d4d9.chunk.js","sourcesContent":["import {\n  AnswersCore,\n  AutoCompleteResult,\n  Facet,\n  SimpleFilter,\n  SortBy,\n  VerticalResults,\n} from '@yext/answers-core';\ntype AutocompleteState = {\n  autocompleteOptions: {\n    value: string;\n    type: 'RECENT' | 'SUGGESTION';\n    key: string;\n    highlighted?: boolean;\n  }[];\n  loading: boolean;\n  querySuggestions: AutoCompleteResult[];\n  recentSearches: {\n    query: string;\n  }[];\n  selectedIndex: number;\n};\n\nexport type AppliedFilter = {\n  displayName: string;\n  fieldId: string;\n  values: string[];\n  source: 'FACET' | 'NLP';\n};\n\nexport type InitialStateType = {\n  loading: boolean;\n  error: any;\n  hasSearched: boolean; // Wheter or not a search has been run\n  core: AnswersCore;\n  verticalKey: string;\n  visibleSearchTerm: string; //Visible search term in the search bar\n  lastSearchedTerm: string; // last searched term (search term of the results)\n  originalSearchTerm: string; // search term that might be hidden due to showing autocomplete\n  verticalresults?: VerticalResults;\n  results: any[];\n  facets: Facet[];\n  facetFilters: SimpleFilter[];\n  appliedFilters: AppliedFilter[];\n  sortBys?: SortBy[];\n  autocomplete: AutocompleteState;\n  debug: boolean;\n  facetSorter?: (facets: Facet[]) => Facet[];\n};\n\nexport const initialState: InitialStateType = {\n  loading: false,\n  error: false,\n  //@ts-ignore\n  core: undefined, // Will be set by initial load\n  hasSearched: false,\n  verticalKey: '',\n  visibleSearchTerm: '',\n  lastSearchedTerm: '',\n  originalSearchTerm: '',\n  verticalresults: undefined,\n  results: [],\n  entities: [],\n  facets: [],\n  appliedQueryFilters: [],\n  facetFilters: [],\n  autocomplete: {\n    querySuggestions: [],\n    loading: false,\n    recentSearches: [],\n    autocompleteOptions: [],\n    selectedIndex: -1,\n  },\n  debug: false,\n};\n","import { Facet, SimpleFilter } from '@yext/answers-core';\nimport { AppliedFilter } from './initialState';\n\nexport const getFacetFilters = (facets: Facet[]): SimpleFilter[] => {\n  return facets\n    .map(f => {\n      return [\n        ...f.options\n          .filter(o => o.selected)\n          .map(o => {\n            return o.filter;\n          }),\n      ];\n    })\n    .flat();\n};\n\nexport const getFacetAppliedFilters = (facets: Facet[]): AppliedFilter[] => {\n  return facets\n    .map(f => {\n      return [\n        ...f.options\n          .filter(o => o.selected)\n          .map(o => {\n            const filter: AppliedFilter = {\n              displayName: f.displayName,\n              fieldId: f.fieldId,\n              source: 'FACET',\n              values: [o.displayName],\n            };\n            return filter;\n          }),\n      ];\n    })\n    .flat();\n};\n\nexport const toggleFacetObject = (\n  facets: Facet[],\n  facetFieldId: string,\n  optionDisplayName: string\n): Facet[] => {\n  const updatedFacets = [...facets];\n  updatedFacets.forEach(f => {\n    if (f.fieldId === facetFieldId) {\n      f.options.forEach(o => {\n        if (o.displayName === optionDisplayName) {\n          o.selected = !o.selected;\n        }\n      });\n    } else return;\n  });\n  return updatedFacets;\n};\n\nexport const sortFacets = (facets: Facet[]) => {\n  return facets.map(f => {\n    return {\n      ...f,\n      options: f.options.sort((a, b) => {\n        if (a.selected && b.selected) return b.count - a.count;\n        else if (a.selected) return -1;\n        else if (b.selected) return 1;\n        else return b.count - a.count;\n      }),\n    };\n  });\n};\n","import {\n  AutoCompleteResult,\n  Facet,\n  provideCore,\n  SortBy,\n  VerticalSearchResponse,\n} from '@yext/answers-core';\nimport { AnswersConfig } from './AnswersConfig';\nimport { getFacetFilters, sortFacets } from './facetUtilties';\nimport { AppliedFilter, InitialStateType } from './initialState';\nexport type Action =\n  | {\n      type: 'SET_CONFIGURATION';\n      config: AnswersConfig;\n      initialState: InitialStateType;\n    }\n  | { type: 'PREPARE_FOR_SEARCH'; searchTerm: string }\n  | { type: 'ON_SEARCH_TERM_CHANGE'; searchTerm: string }\n  | { type: 'SET_VERTICAL_RESPONSE'; response: VerticalSearchResponse }\n  | {\n      type: 'SET_AUTOCOMPLETE';\n      querySuggestions: AutoCompleteResult[];\n      recentSearches: { query: string }[];\n    }\n  | { type: 'NEXT_AUTOCOMPLETE_OPTION' }\n  | { type: 'SET_ERROR'; error: any }\n  | { type: 'PREVIOUS_AUTOCOMPLETE_OPTION' }\n  | { type: 'APPEND_RESULTS'; results: any[] }\n  | { type: 'UPDATE_SORT_BYS'; sortBys?: SortBy[] }\n  | { type: 'UPDATE_FACETS'; facets: Facet[] };\n\nconst reducer = (state: InitialStateType, action: Action): InitialStateType => {\n  if (\n    (action.type === 'SET_CONFIGURATION' && action.config.debug) ||\n    state.debug\n  ) {\n    console.log(action.type, action);\n  }\n  const { autocomplete, facetSorter } = state;\n  switch (action.type) {\n    case 'PREPARE_FOR_SEARCH':\n      return {\n        ...state,\n        loading: true,\n        error: false,\n        autocomplete: {\n          loading: false,\n          autocompleteOptions: [],\n          recentSearches: [],\n          querySuggestions: [],\n          selectedIndex: -1,\n        },\n        lastSearchedTerm: action.searchTerm,\n        visibleSearchTerm: action.searchTerm,\n        originalSearchTerm: action.searchTerm,\n      };\n    case 'SET_CONFIGURATION': {\n      const { config, initialState } = action;\n      const core = provideCore(config);\n      return {\n        ...state,\n        ...initialState,\n        core,\n        ...config,\n        debug: config.debug || false,\n      };\n    }\n    case 'ON_SEARCH_TERM_CHANGE':\n      return {\n        ...state,\n        visibleSearchTerm: action.searchTerm,\n        originalSearchTerm: action.searchTerm,\n      };\n    case 'SET_ERROR':\n      if (state.debug) {\n        console.log(action.error);\n      }\n      return {\n        ...state,\n        loading: false,\n        error: action.error,\n      };\n    case 'SET_VERTICAL_RESPONSE': {\n      const { response } = action;\n      const facets = (response.facets as any) as Facet[];\n      const newFacetFilters = getFacetFilters(facets);\n      const facetFilters = [\n        ...state.facetFilters.filter(f => {\n          const matchedIndex = newFacetFilters.findIndex(\n            g => g.fieldId === f.fieldId && g.comparedValue === f.comparedValue\n          );\n          return matchedIndex === -1;\n        }),\n        ...newFacetFilters,\n      ];\n\n      const appliedFilters: AppliedFilter[] = [];\n\n      // response.verticalResults.appliedQueryFilters.forEach(q => {\n      //   const isFacet =\n      //     facetFilters.findIndex(\n      //       f =>\n      //         q.filter.fieldId === f.fieldId &&\n      //         q.displayValue === f.comparedValue\n      //     ) === -1;\n\n      //   if (!isFacet) {\n      //     console.log('NLP Filter');\n      //   }\n      // });\n\n      facets.forEach(f => {\n        f.options.forEach(o => {\n          if (o.selected === true) {\n            //  Check if Facet Field Exists\n            const matchedIndex = appliedFilters.findIndex(\n              af => af.fieldId === f.fieldId\n            );\n            if (matchedIndex !== -1) {\n              appliedFilters[matchedIndex].values.push(o.displayName);\n            } else {\n              appliedFilters.push({\n                displayName: f.displayName,\n                fieldId: f.fieldId,\n                source: 'FACET',\n                values: [o.displayName],\n              });\n            }\n          }\n        });\n      });\n\n      return {\n        ...state,\n        loading: false,\n        autocomplete: {\n          loading: false,\n          autocompleteOptions: [],\n          recentSearches: [],\n          querySuggestions: [],\n          selectedIndex: -1,\n        },\n        error: false,\n        verticalresults: response.verticalResults,\n        hasSearched: true,\n        results: response.verticalResults.results,\n        facets: facetSorter ? facetSorter(facets) : sortFacets(facets),\n        appliedFilters,\n        facetFilters,\n      };\n    }\n    case 'SET_AUTOCOMPLETE':\n      const { querySuggestions, recentSearches } = action;\n      return {\n        ...state,\n        autocomplete: {\n          loading: false,\n          querySuggestions,\n          selectedIndex: -1,\n          recentSearches,\n          autocompleteOptions: [\n            ...recentSearches.map(s => {\n              return {\n                value: s.query,\n                type: 'RECENT',\n              };\n            }),\n            ...querySuggestions\n              .filter(q => {\n                // Dedupe recent searches\n                return !recentSearches.map(s => s.query).includes(q.value);\n              })\n              .map(s => {\n                return {\n                  ...s,\n                  type: 'SUGGESTION',\n                };\n              }),\n          ].map(s => {\n            return {\n              ...s,\n              key: s.type + s.value,\n            };\n          }) as { value: string; type: 'RECENT' | 'SUGGESTION'; key: string }[],\n        },\n      };\n    case 'NEXT_AUTOCOMPLETE_OPTION':\n      const nextIndex = Math.min(\n        autocomplete.autocompleteOptions.length - 1,\n        autocomplete.selectedIndex + 1\n      );\n      return {\n        ...state,\n        autocomplete: {\n          ...autocomplete,\n          autocompleteOptions: state.autocomplete.autocompleteOptions.map(\n            (o, i) => {\n              return {\n                ...o,\n                highlighted: i === nextIndex,\n              };\n            }\n          ),\n          selectedIndex: nextIndex,\n        },\n        visibleSearchTerm: autocomplete.autocompleteOptions[nextIndex].value,\n      };\n\n    case 'PREVIOUS_AUTOCOMPLETE_OPTION':\n      const prevIndex = Math.max(-1, autocomplete.selectedIndex - 1);\n\n      const newVisibleSearchTerm =\n        prevIndex === -1\n          ? state.originalSearchTerm\n          : autocomplete.autocompleteOptions[prevIndex].value;\n\n      return {\n        ...state,\n        autocomplete: {\n          ...autocomplete,\n          autocompleteOptions: state.autocomplete.autocompleteOptions.map(\n            (o, i) => {\n              return {\n                ...o,\n                highlighted: i === prevIndex,\n              };\n            }\n          ),\n          selectedIndex: prevIndex,\n        },\n        visibleSearchTerm: newVisibleSearchTerm,\n      };\n\n    case 'APPEND_RESULTS':\n      return {\n        ...state,\n        results: [...state.results, ...action.results],\n      };\n    case 'UPDATE_SORT_BYS':\n      return {\n        ...state,\n        sortBys: action.sortBys,\n      };\n    case 'UPDATE_FACETS':\n      const { facets } = action;\n      return {\n        ...state,\n        facetFilters: getFacetFilters(facets),\n        facets,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React, { createContext, Dispatch, useReducer } from 'react';\nimport { initialState, InitialStateType } from './initialState';\nimport reducer, { Action } from './reducer';\n\nexport const AppContext = createContext<{\n  state: InitialStateType;\n  dispatch: Dispatch<Action>;\n}>({\n  state: initialState,\n  dispatch: () => null,\n});\n\nconst AnswersStore = ({ children }: { children: React.ReactNode }) => {\n  //@ts-ignore\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <AppContext.Provider value={{ state, dispatch }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AnswersStore;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import {\n  SimpleFilter,\n  SortBy,\n  VerticalSearchResponse,\n} from '@yext/answers-core';\nimport { useContext } from 'react';\nimport RecentSearches from 'recent-searches';\nimport { AnswersConfig } from './AnswersConfig';\nimport { AppContext } from './AnswersStore';\nimport { getFacetFilters, toggleFacetObject } from './facetUtilties';\nimport { InitialStateType } from './initialState';\n\nconst recentSearchesController = new RecentSearches();\n\nexport const useAnswers = () => {\n  const { state, dispatch } = useContext(AppContext);\n  const {\n    lastSearchedTerm,\n    visibleSearchTerm,\n    facets,\n    autocomplete,\n    sortBys,\n    verticalKey,\n    results,\n    core,\n    facetFilters,\n  } = state;\n\n  const setConfiguration = (\n    config: AnswersConfig,\n    initialState: InitialStateType\n  ) => {\n    dispatch({\n      type: 'SET_CONFIGURATION',\n      config,\n      initialState,\n    });\n  };\n\n  const runSearch = async (\n    searchTerm: string = visibleSearchTerm,\n    clearFacets = true\n  ) => {\n    recentSearchesController.setRecentSearch(searchTerm);\n\n    handleSearch(searchTerm, clearFacets ? undefined : facetFilters, sortBys);\n  };\n\n  const chooseAutocompleteOption = (index: number) => {\n    const option = autocomplete.autocompleteOptions[index];\n    if (option) {\n      runSearch(option.value);\n    } else {\n      console.log('Index does not exist');\n    }\n  };\n\n  const handleSearch = async (\n    searchTerm: string,\n    facetFilters?: SimpleFilter[],\n    sortBys?: SortBy[]\n  ) => {\n    dispatch({\n      type: 'PREPARE_FOR_SEARCH',\n      searchTerm: searchTerm,\n    });\n\n    try {\n      const res: VerticalSearchResponse = await core.verticalSearch({\n        query: searchTerm,\n        context: {},\n        verticalKey,\n        retrieveFacets: true,\n        sortBys,\n        facetFilters,\n      });\n      dispatch({\n        type: 'SET_VERTICAL_RESPONSE',\n        response: res,\n      });\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        error,\n      });\n    }\n  };\n\n  const handleSearchTermChange = async (\n    searchTerm: string = visibleSearchTerm\n  ) => {\n    dispatch({\n      type: 'ON_SEARCH_TERM_CHANGE',\n      searchTerm,\n    });\n    const res = await core.verticalAutoComplete({\n      input: searchTerm,\n      verticalKey,\n    });\n    dispatch({\n      type: 'SET_AUTOCOMPLETE',\n      querySuggestions: res.results,\n      recentSearches: recentSearchesController.getRecentSearches(searchTerm),\n    });\n  };\n\n  const updateSortBys = async (\n    sortBys: SortBy[] | undefined,\n    updateSearchResults = true\n  ) => {\n    dispatch({\n      type: 'UPDATE_SORT_BYS',\n      sortBys,\n    });\n\n    if (updateSearchResults) {\n      handleSearch(lastSearchedTerm, getFacetFilters(facets), sortBys);\n    }\n  };\n\n  const toggleFacet = async (\n    facetFieldId: string,\n    optionDisplayName: string,\n    updateSearchResults = true\n  ) => {\n    const updatedFacets = toggleFacetObject(\n      state.facets,\n      facetFieldId,\n      optionDisplayName\n    );\n\n    dispatch({\n      type: 'UPDATE_FACETS',\n      facets: updatedFacets,\n    });\n\n    console.log(facetFilters);\n    let removed = false;\n    const updatedFacetFilters = facetFilters.filter(f => {\n      if (f.fieldId === facetFieldId && f.comparedValue === optionDisplayName) {\n        removed = true;\n        return false;\n      } else {\n        return true;\n      }\n    });\n\n    if (!removed) {\n      updatedFacetFilters.push({\n        fieldId: facetFieldId,\n        comparator: '$eq',\n        comparedValue: optionDisplayName,\n      });\n    }\n\n    console.log(updatedFacetFilters);\n\n    if (updateSearchResults) {\n      handleSearch(lastSearchedTerm, updatedFacetFilters, sortBys);\n    }\n  };\n\n  const loadMore = async () => {\n    const res = await core.verticalSearch({\n      query: lastSearchedTerm,\n      context: {},\n      verticalKey,\n      retrieveFacets: true,\n      facetFilters: getFacetFilters(facets),\n      offset: results.length,\n    });\n\n    dispatch({\n      type: 'APPEND_RESULTS',\n      results: res.verticalResults.results,\n    });\n  };\n\n  const nextAutocompleteOption = () => {\n    dispatch({ type: 'NEXT_AUTOCOMPLETE_OPTION' });\n  };\n\n  const prevAutocompleteOption = () => {\n    dispatch({ type: 'PREVIOUS_AUTOCOMPLETE_OPTION' });\n  };\n\n  const clearSearch = () => {\n    dispatch({ type: 'ON_SEARCH_TERM_CHANGE', searchTerm: '' });\n    dispatch({\n      type: 'UPDATE_FACETS',\n      facets: facets.map(f => {\n        return {\n          ...f,\n          options: f.options.map(o => {\n            return {\n              ...o,\n              selected: false,\n            };\n          }),\n        };\n      }),\n    });\n    dispatch({ type: 'UPDATE_SORT_BYS', sortBys: undefined });\n    handleSearch('', undefined, undefined);\n  };\n\n  return {\n    state,\n    actions: {\n      runSearch,\n      handleSearchTermChange,\n      chooseAutocompleteOption,\n      toggleFacet,\n      loadMore,\n      updateSortBys,\n      setConfiguration,\n      nextAutocompleteOption,\n      prevAutocompleteOption,\n      clearSearch,\n    },\n  };\n};\n","import React, { useEffect } from 'react';\nimport { QueryParamProvider } from 'use-query-params';\nimport { AnswersConfig } from './AnswersConfig';\nimport AnswersStore from './AnswersStore';\nimport { initialState } from './initialState';\nimport { useAnswers } from './useAnswers';\nimport { useQueryParamManager } from './useQueryParamManager';\n\ntype Props = {\n  //Insert Props Here\n  children: React.ReactNode;\n  config: AnswersConfig;\n};\n\nconst AnswersContext: React.FC<Props> = props => {\n  return (\n    <QueryParamProvider>\n      <AnswersStore>\n        <Inner {...props} />\n      </AnswersStore>\n    </QueryParamProvider>\n  );\n};\n\nconst Inner = ({ config, children }: Props) => {\n  const { runSearchOnLoad = false } = config;\n  const {\n    state,\n    actions: { runSearch, setConfiguration, handleSearchTermChange },\n  } = useAnswers();\n\n  const queryParams = useQueryParamManager();\n  useEffect(() => {\n    if (!state.verticalKey) {\n      setConfiguration(config, {\n        ...initialState,\n        lastSearchedTerm: queryParams.query || '',\n        originalSearchTerm: queryParams.query || '',\n        visibleSearchTerm: queryParams.query || '',\n        facetFilters: queryParams.filters || [],\n        sortBys: queryParams.sortBys,\n      });\n    }\n    if (runSearchOnLoad && state.verticalKey) {\n      runSearch(undefined, false);\n    }\n\n    if (state.verticalKey) {\n      handleSearchTermChange();\n    }\n  }, [runSearchOnLoad, state.verticalKey]);\n\n  return <>{children}</>;\n};\n\nexport default AnswersContext;\n","import { useEffect } from 'react';\nimport { JsonParam, StringParam, useQueryParams } from 'use-query-params';\nimport { getFacetFilters } from './facetUtilties';\nimport { useAnswers } from './useAnswers';\n\nexport const useQueryParamManager = () => {\n  const { state } = useAnswers();\n  const [queryParams, setQueryParams] = useQueryParams({\n    query: StringParam,\n    filters: JsonParam,\n    sortBys: JsonParam,\n  });\n\n  const facetFilters = getFacetFilters(state.facets);\n  useEffect(() => {\n    setQueryParams({\n      query: state.lastSearchedTerm || undefined,\n      filters: facetFilters.length > 0 ? facetFilters : undefined,\n      sortBys: state.sortBys || undefined,\n    });\n  }, [state.lastSearchedTerm, facetFilters]);\n\n  return queryParams;\n};\n","import classnames from \"classnames\";\nimport React, { useState } from \"react\";\nimport { FaChevronRight } from \"react-icons/fa\";\n\ntype Props = {\n  //Insert Props Here\n  children: React.ReactNode;\n  name: string;\n  count: number;\n};\n\nconst FacetContainer: React.FC<Props> = ({ children, name, count }) => {\n  const [expanded, setExpanded] = useState(true);\n\n  return (\n    <div className=\" py-2 mb-3\">\n      <div\n        className=\"flex justify-between items-center cursor-pointer\"\n        onClick={() => setExpanded((e) => !e)}\n      >\n        <div className=\"text-black font-medium text-sm flex itesm-center\">\n          <div>{name}</div>\n          {count > 0 && <div className=\"ml-1\">({count})</div>}\n        </div>\n        <div\n          className={classnames(\n            \"text-gray-500 transform ease-in-out transition\",\n            {\n              \"rotate-90\": expanded,\n            }\n          )}\n        >\n          <FaChevronRight />\n        </div>\n      </div>\n      {expanded && <div className=\"mt-2\">{children}</div>}\n    </div>\n  );\n};\n\nexport default FacetContainer;\n","import { Facet as FacetType, FacetOption } from \"@yext/answers-core\";\nimport React from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport { MdCheck } from \"react-icons/md\";\nimport stc from \"string-to-color\";\nimport FacetContainer from \"./FacetContainer\";\n\ntype Props = {\n  //Insert Props Here\n  facet: FacetType;\n  maxOptions?: number;\n  onSelectFacet: (option: FacetOption) => void;\n};\n\nconst ColorFacet: React.FC<Props> = ({\n  facet,\n  maxOptions = 10,\n  onSelectFacet,\n}) => {\n  const filteredOptions = facet.options\n    .filter((o, i) => i < maxOptions)\n    .sort((a, b) => {\n      return a.displayName.localeCompare(b.displayName);\n    });\n\n  return (\n    <FacetContainer\n      name={facet.displayName}\n      count={facet.options.filter((o) => o.selected).length}\n    >\n      <FlipMove className=\"grid grid-cols-3\">\n        {filteredOptions.map((o) => (\n          <div\n            className=\"font-light flex flex-col items-center mb-3 group cursor-pointer hover:opacity-75\"\n            key={o.displayName}\n            onClick={() => onSelectFacet(o)}\n          >\n            <div\n              className=\"h-6 w-6 rounded-full mb-1 group-hover:opactiy-75 flex items-center justify-center\"\n              style={{ backgroundColor: stc(o.displayName) }}\n            >\n              {o.selected && <MdCheck className=\"text-white\" />}\n              {!o.selected && (\n                <div className=\"text-white text-xs opacity-60\">{o.count}</div>\n              )}\n            </div>\n\n            <div className=\"text-xs text-light text-gray-600\">\n              {o.displayName}\n            </div>\n          </div>\n        ))}\n      </FlipMove>\n    </FacetContainer>\n  );\n};\n\nexport default ColorFacet;\n","import { Facet as FacetType, FacetOption } from \"@yext/answers-core\";\nimport classnames from \"classnames\";\nimport React, { useState } from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport { MdCheck } from \"react-icons/md\";\nimport FacetContainer from \"./FacetContainer\";\n\ntype Props = {\n  //Insert Props Here\n  facet: FacetType;\n  maxOptions?: number;\n  onSelectFacet: (option: FacetOption) => void;\n};\n\nconst Facet: React.FC<Props> = ({ facet, maxOptions = 10, onSelectFacet }) => {\n  const [query, setQuery] = useState(\"\");\n  const filteredOptions = facet.options\n    .filter((o, i) => {\n      const underMaxLength = i < maxOptions;\n      let queryMatch = false;\n      if (query.length > 0) {\n        queryMatch = o.displayName\n          .toLocaleLowerCase()\n          .includes(query.toLocaleLowerCase());\n      } else {\n        queryMatch = true;\n      }\n      return queryMatch && underMaxLength;\n    })\n    .sort((a, b) => {\n      if (a.selected && b.selected) return b.count - a.count;\n      else if (a.selected) return -1;\n      else if (b.selected) return 1;\n      else return b.count - a.count;\n    });\n\n  return (\n    <FacetContainer\n      name={facet.displayName}\n      count={facet.options.filter((o) => o.selected).length}\n    >\n      <FlipMove>\n        {filteredOptions.map((o) => (\n          <div\n            className=\"font-light text-gray-500 flex items-center mb-1 group cursor-pointer\"\n            key={o.displayName}\n            onClick={() => onSelectFacet(o)}\n          >\n            <div\n              className={classnames(\n                \"w-4 h-4 border mr-2 rounded-sm flex items-center justify-center\",\n                {\n                  \"bg-gray-600 border-gray-600\": o.selected,\n                  \"border group-hover:bg-gray-200 \": !o.selected,\n                }\n              )}\n            >\n              {o.selected && <MdCheck className=\"text-white\" />}\n            </div>\n            {o.displayName}{\" \"}\n            <span className=\"text-xs bg-gray-100 px-1 rounded-full text-gray-600 ml-2\">\n              {o.count}\n            </span>\n          </div>\n        ))}\n      </FlipMove>\n    </FacetContainer>\n  );\n};\n\nexport default Facet;\n","import React from \"react\";\nimport { useAnswers } from \"yext-answers-react\";\nimport ColorFacet from \"./ColorFacet\";\nimport Facet from \"./Facet\";\n\ntype Props = {\n  //Insert Props Here\n};\n\nconst Facets: React.FC<Props> = ({}) => {\n  const {\n    state: { facets },\n    actions: { toggleFacet },\n  } = useAnswers();\n\n  return (\n    <div className=\"flex flex-col px-4 pb-4 mt-4\">\n      {facets &&\n        facets.map((f) => (\n          <div key={f.fieldId}>\n            {f.fieldId !== \"c_color\" && (\n              <Facet\n                facet={f}\n                onSelectFacet={(o) => toggleFacet(f.fieldId, o.displayName)}\n              />\n            )}\n            {f.fieldId === \"c_color\" && (\n              <ColorFacet\n                facet={f}\n                onSelectFacet={(o) => toggleFacet(f.fieldId, o.displayName)}\n              />\n            )}\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default Facets;\n","import React from \"react\";\n\ntype Props = {\n  //Insert Props Here\n  children: React.ReactNode;\n};\n\nconst Modal: React.FC<Props> = ({ children }) => {\n  return (\n    <div>\n      <div className=\"fixed left-0 right-0 top-0 bottom-0 bg-gray-400 opacity-80 z-40\"></div>\n      <div className=\"fixed left-0 right-0 top-0 bottom-0 z-50 flex items-center justify-center\">\n        <div className=\"md:w-2/3 lg:w-1/2 mx-4 md:mx-0\">{children}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import classnames from \"classnames\";\nimport React, { useRef, useState } from \"react\";\nimport { FaRegClock, FaSpinner, FaTimesCircle } from \"react-icons/fa\";\nimport { MdSearch } from \"react-icons/md\";\nimport { useAnswers } from \"yext-answers-react\";\n\ntype Props = {\n  //Insert Props Here\n\n  placeholder?: string;\n};\n\nconst SearchBar: React.FC<Props> = ({ placeholder = \"Search ...\" }) => {\n  const inputElement = useRef(null);\n\n  const { state, actions } = useAnswers();\n  const { loading, autocomplete, visibleSearchTerm } = state;\n  const {\n    handleSearchTermChange,\n    runSearch,\n    nextAutocompleteOption,\n    prevAutocompleteOption,\n  } = actions;\n\n  const [isFocused, setIsFocused] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    handleSearchTermChange(e.target.value);\n  };\n\n  const showQuerySuggestion =\n    isFocused && autocomplete.autocompleteOptions.length > 0;\n  return (\n    <div className=\"relative m-2 flex items-center\">\n      {isFocused && <div className=\"w-72\"></div>}\n      <div\n        className={classnames(\n          \"w-72 transition rounded-full ease-in-out bg-gray-100 relative duration-500 focus-within:z-50 focus-within:bg-white border border-transparent focus-within:border-gray-300 focus-within:absolute top-0\"\n        )}\n        style={\n          isFocused\n            ? {\n                borderRadius: \"1.2rem\",\n              }\n            : {}\n        }\n      >\n        <form\n          className=\"py-2 px-4 flex items-center group text-gray-700 rounded-full\"\n          onSubmit={(e) => {\n            e.preventDefault();\n            runSearch();\n          }}\n        >\n          <MdSearch className=\"mr-2 text-gray-600 text-xl\" />\n          <input\n            onFocus={() => setIsFocused(true)}\n            onBlur={() => setIsFocused(false)}\n            ref={inputElement}\n            value={visibleSearchTerm}\n            placeholder={placeholder}\n            onChange={handleChange}\n            className=\"w-full focus:outline-none font-light bg-transparent\"\n            onKeyDown={(e) => {\n              if (e.key === \"ArrowDown\") {\n                e.preventDefault();\n                nextAutocompleteOption();\n              } else if (e.key === \"ArrowUp\") {\n                e.preventDefault();\n                prevAutocompleteOption();\n              }\n            }}\n          />\n          {loading && <FaSpinner className=\"animate-spin text-gray-500\" />}\n          {!loading && visibleSearchTerm.length > 0 && (\n            <FaTimesCircle\n              className=\"text-gray-500 cursor-pointer group-hover:opacity-100 opacity-0 text-xl\"\n              onClick={() => {\n                runSearch(\"\");\n              }}\n            />\n          )}\n        </form>\n        {showQuerySuggestion && (\n          <div className=\"text-gray-700 font-light pb-2\">\n            {autocomplete.autocompleteOptions.map((q, i) => (\n              <div\n                key={q.value + q.type}\n                onMouseDown={() => {\n                  runSearch(q.value);\n                }}\n                className={classnames(\n                  \"py-1 px-4 hover:bg-gray-100 cursor-pointer flex items-center\",\n                  {\n                    \"bg-gray-100\": autocomplete.selectedIndex === i,\n                  }\n                )}\n              >\n                <div className=\"mr-2 text-gray-500\">\n                  {q.type === \"SUGGESTION\" && <MdSearch />}\n                  {q.type === \"RECENT\" && <FaRegClock className=\"text-xs\" />}\n                </div>\n                {q.value}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import React, { useState } from \"react\";\nimport { FaShoppingCart } from \"react-icons/fa\";\nimport SearchBar from \"./SearchBar\";\nimport { Product } from \"./types\";\n\ntype Props = {\n  //Insert Props Here\n  shoppingCart: {\n    quantity: number;\n    product: Product;\n  }[];\n};\n\nconst Nav: React.FC<Props> = ({ shoppingCart }) => {\n  const [showingCart, setShowingCart] = useState(false);\n  return (\n    <div className=\"border-b flex justify-between items-stretch h-14\">\n      <div className=\"text-xl font-light px-4 text-green-700 flex items-center\">\n        Seaglass\n      </div>\n      <div className=\" items-center text-gray-700 px-4 hidden md:flex\">\n        <div className=\"px-4 py-3 hover:underline cursor-pointer\">Products</div>\n        <div className=\"px-4 py-3 hover:underline cursor-pointer\">\n          Locations\n        </div>\n        <div className=\"px-4 py-3 hover:underline cursor-pointer\">Support</div>\n        <div className=\"px-4 py-3 hover:underline cursor-pointer\">About Us</div>\n      </div>\n      <div className=\"flex\">\n        <SearchBar placeholder=\"Search for glasses...\" />\n        <div\n          className=\"border-l p-4 text-gray-700 flex items-center\"\n          onMouseEnter={() => setShowingCart(true)}\n          onMouseLeave={() => setShowingCart(false)}\n        >\n          <FaShoppingCart />\n          {shoppingCart.length > 0 && (\n            <div className=\"absolute right-0 top-0 m-2 p-1 h-4 w-4 flex items-center rounded-full bg-gray-700 text-gray-100 text-xs\">\n              {shoppingCart.length}\n            </div>\n          )}\n          {showingCart && (\n            <div className=\"flex flex-col absolute top-16 right-0 mr-2 rounded bg-white border shadow-lg z-50\">\n              {shoppingCart.map((c) => (\n                <div className=\"border-b px-4 py-2 w-64 flex items-center\">\n                  <div className=\"w-24 mr-4\">\n                    <div>\n                      <img\n                        src={c.product.rawData.photoGallery[2].image.sourceUrl}\n                        width=\"100%\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <div className=\"font-medium\">{c.product.rawData.name}</div>\n                    <div className=\"text-gray-500 text-sm\">\n                      {c.quantity} x ${c.product.rawData.c_price}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Nav;\n","import classnames from \"classnames\";\nimport React from \"react\";\nimport { FaCartPlus, FaSearchPlus } from \"react-icons/fa\";\nimport { Product } from \"./types\";\n\ntype Props = {\n  //Insert Props Here\n  product: Product;\n  addToCart: () => void;\n  showQuickLook: () => void;\n};\n\nconst ProductCard = ({ product, showQuickLook, addToCart }: Props) => {\n  const { name, c_shape, c_material, photoGallery, c_price } = product.rawData;\n\n  return (\n    <div\n      className={classnames(\n        \"rounded cursor-pointer transform  transition ease-in-out group overflow-hidden relative\",\n        \"md:hover:shadow-xl md:hover:bg-white md:hover:z-30 md:hover:scale-105 md:hover:z-100\"\n      )}\n    >\n      <div className=\"p-4\" onClick={showQuickLook}>\n        <div className=\" aspect-w-4 aspect-h-2\">\n          {photoGallery.length > 0 && (\n            <div className=\"flex items-center  p-4\">\n              <img src={photoGallery[2].image.url} alt=\"\" width=\"100%\" />\n            </div>\n          )}\n        </div>\n        <div className=\"font-medium text-black mt-4\">{name}</div>\n        <div className=\"text-gray-500 font-light text-sm\">\n          {c_material}, {c_shape}\n        </div>\n        <div className=\"text-gray-500 font-light text-sm\">2 colors</div>\n        <div className=\" font-medium mt-2 text-sm\">${c_price}</div>\n      </div>\n\n      <div className=\"flex opacity-0 md:group-hover:opacity-100 text-gray-500 uppercase text-xs transition ease-in-out  justify-center\">\n        <div\n          className=\"flex justify-center items-center bg-gray-100 hover:bg-gray-200 px-2 py-2 cursor-pointer flex-grow\"\n          onClick={showQuickLook}\n        >\n          <FaSearchPlus className=\"mr-2\" />\n          Look\n        </div>\n        <div\n          className=\"flex justify-center items-center bg-gray-100 hover:bg-gray-200 px-2 py-2 cursor-pointer flex-grow\"\n          onClick={addToCart}\n        >\n          <FaCartPlus className=\"mr-2\" />\n          Cart\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard;\n","import React from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport { FaSpinner } from \"react-icons/fa\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { useAnswers } from \"yext-answers-react\";\nimport ProductCard from \"./ProductCard\";\nimport { Product } from \"./types\";\n\ntype Props = {\n  //Insert Props Here\n  onQuickLook: (product: Product) => void;\n  onAddToCart: (product: Product) => void;\n};\n\nconst ProductGrid: React.FC<Props> = ({ onQuickLook, onAddToCart }) => {\n  const {\n    state: { verticalresults, results: products },\n    actions: { loadMore },\n  } = useAnswers();\n\n  return (\n    <InfiniteScroll\n      className=\"overflow-x-auto\"\n      style={{ overflow: \"visible\" }}\n      hasMore={verticalresults!.resultsCount > products.length}\n      next={loadMore}\n      dataLength={products.length}\n      endMessage={\n        <div className=\"mt-12 mb-4 text-center text-gray-500 font-light text-sm\">\n          that's all...\n        </div>\n      }\n      loader={\n        <div className=\"h-12 flex items-center justify-center\">\n          <FaSpinner className=\"animate-spin text-gray-500\" />\n        </div>\n      }\n    >\n      <FlipMove className=\"grid  grid-cols-1 md:grid-cols-2 lg:grid-cols-4 2xl:grid-cols-6\">\n        {products.map((p, i) => {\n          return (\n            <div key={p.id} className=\"overflow-visible z-40\">\n              <ProductCard\n                product={p}\n                showQuickLook={() => onQuickLook(p)}\n                addToCart={() => onAddToCart(p)}\n              />\n            </div>\n          );\n        })}\n      </FlipMove>\n    </InfiniteScroll>\n  );\n};\n\nexport default ProductGrid;\n","import classnames from \"classnames\";\nimport React, { useState } from \"react\";\nimport { FaCartPlus, FaSearchPlus, FaTimes } from \"react-icons/fa\";\nimport { Product } from \"./types\";\n\ntype Props = {\n  //Insert Props Here\n  product: Product;\n  onClose: () => void;\n  addToCart: () => void;\n};\n\nconst ProductOverlayCard = ({ product, onClose, addToCart }: Props) => {\n  const { name, c_shape, c_material, photoGallery, c_price } = product.rawData;\n\n  const [selectedImageURL, setSelectedImageURL] = useState(\n    photoGallery[2].image.url\n  );\n  const buttonClassName =\n    \"px-4 py-3  bg-gray-100 text-gray-500 flex items-center justify-center cursor-pointer hover:bg-gray-200\";\n  return (\n    <div className=\"bg-white rounded shadow-xl relative overflow-hidden\">\n      <div\n        className=\"text-gray-500 p-2 hover:bg-gray-100 absolute top-0 right-0 m-2 rounded cursor-pointer z-50\"\n        onClick={onClose}\n      >\n        <FaTimes />\n      </div>\n      <div className=\"p-4\">\n        <div className=\" aspect-w-4 aspect-h-2 z-10 mb-2\">\n          <div className=\"flex items-center  p-4 overflow-hidden\">\n            <img src={selectedImageURL} alt=\"\" width=\"100%\" />\n          </div>\n        </div>\n        <div className=\"grid grid-cols-6\">\n          {photoGallery.map((i, j) => (\n            <div\n              key={j}\n              className=\"px-2 flex items-center hover:opactiy-70\"\n              onMouseEnter={() => setSelectedImageURL(i.image.url)}\n              onTouchStart={() => setSelectedImageURL(i.image.url)}\n            >\n              <div>\n                <img src={i.image.url} />\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"font-medium text-lg text-black mt-4\">{name}</div>\n        <div className=\"text-gray-500 font-light text-sm\">\n          {c_material}, {c_shape}\n        </div>\n        <div className=\"text-gray-500 font-light text-sm\">2 colors</div>\n        <div className=\" font-medium mt-2 text-sm\">${c_price}</div>\n      </div>\n      <div className=\"grid grid-cols-2\">\n        <div\n          onClick={addToCart}\n          className={classnames(\n            buttonClassName,\n            \" border-t border-r border-gray-200\"\n          )}\n        >\n          <FaCartPlus className=\"mr-2\" />\n          Add To Cart\n        </div>\n        <div\n          className={classnames(buttonClassName, \"border-t border-gray-200\")}\n        >\n          <FaSearchPlus className=\"mr-2\" />\n          View Details\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductOverlayCard;\n","import { SortBy } from \"@yext/answers-core\";\nimport React, { useState } from \"react\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport { MdCheck } from \"react-icons/md\";\nimport { useAnswers } from \"yext-answers-react\";\n\ntype Props = {\n  //Insert Props Here\n};\n\nconst SortByController: React.FC<Props> = () => {\n  const { actions } = useAnswers();\n  const [selectedSortOption, setSelectedSortOption] = useState(0);\n  const [showingOptions, setShowingOptions] = useState(false);\n\n  const sortOptions: {\n    label: string;\n    sortBys?: SortBy[];\n  }[] = [\n    {\n      label: \"Most Popular\",\n    },\n    {\n      label: \"Most Relevant\",\n    },\n    {\n      label: \"A-Z\",\n      sortBys: [\n        {\n          type: \"FIELD\",\n          field: \"name\",\n          direction: \"ASC\",\n        },\n      ],\n    },\n    {\n      label: \"Price (High to Low)\",\n      sortBys: [\n        {\n          type: \"FIELD\",\n          field: \"c_price\",\n          direction: \"DESC\",\n        },\n      ],\n    },\n    {\n      label: \"Price (Low to High)\",\n      sortBys: [\n        {\n          type: \"FIELD\",\n          field: \"c_price\",\n          direction: \"ASC\",\n        },\n      ],\n    },\n  ];\n\n  const changeSortOption = (newIndex: number) => {\n    setSelectedSortOption(newIndex);\n    setShowingOptions(false);\n    actions.updateSortBys(sortOptions[newIndex].sortBys);\n  };\n  return (\n    <div className=\"relative\">\n      <div\n        className=\"text-gray-500 text-sm hover:underline cursor-pointer flex items-center\"\n        onClick={() => setShowingOptions((e) => !e)}\n      >\n        {sortOptions[selectedSortOption].label}\n        <FaChevronDown className=\"ml-2\" />\n      </div>\n      {showingOptions && (\n        <div className=\"absolute top-8 right-0 shadow-lg border bg-white z-50 w-48 text-sm rounded-sm overflow-hidden text-gray-700 font-light\">\n          {sortOptions.map((o, i) => (\n            <div\n              key={i}\n              onClick={() => changeSortOption(i)}\n              className=\"pl-2 pr-4 py-2 flex items-center hover:bg-gray-100 cursor-pointer \"\n            >\n              <div className=\"w-6\">\n                {i === selectedSortOption && <MdCheck />}\n              </div>\n              <div>{o.label}</div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SortByController;\n","import React from \"react\";\nimport { FaFilter } from \"react-icons/fa\";\nimport { MdClose } from \"react-icons/md\";\nimport { useAnswers } from \"yext-answers-react\";\nimport SortByController from \"./SortByController\";\n\ntype Props = {\n  //Insert Props Here\n  onToggleFilters: () => void;\n};\n\nconst ResultsSummary: React.FC<Props> = ({ onToggleFilters }) => {\n  const {\n    state,\n    actions: { toggleFacet, clearSearch },\n  } = useAnswers();\n  const { verticalresults, results, appliedFilters } = state;\n  return (\n    <div className=\"flex justify-between items-center mb-2\">\n      <div className=\"text-sm text-gray-500 flex items-center\">\n        <div>\n          Showing {results.length} of {verticalresults?.resultsCount} glasses\n        </div>\n        <div className=\"border-l  ml-2  flex items-center\">\n          {appliedFilters.map((f) => (\n            <div className=\"ml-2 flex items-center\" key={f.fieldId}>\n              {f.displayName}:{\" \"}\n              {f.source === \"FACET\" &&\n                f.values.map((v) => (\n                  <button\n                    key={v}\n                    className=\"text-gray-600 border px-1 rounded-sm flex items-center ml-1 hover:bg-gray-100 text-sm\"\n                    onClick={() => toggleFacet(f.fieldId, v)}\n                  >\n                    {v}\n                    <MdClose className=\"ml-1\" />\n                  </button>\n                ))}\n              {f.source === \"NLP\" && (\n                <div className=\"ml-1\">{f.values.join(\", \")}</div>\n              )}\n            </div>\n          ))}\n        </div>\n        {appliedFilters.length > 0 && (\n          <div className=\"border-l  ml-2  flex items-center pl-2\">\n            <button className=\"hover:underline px-1\" onClick={clearSearch}>\n              Clear All\n            </button>\n          </div>\n        )}\n      </div>\n      <div className=\"hidden md:flex\">\n        <SortByController />\n      </div>\n      <div\n        className=\"flex md:hidden text-gray-500 text-sm items-center hover:underline cursor-pointer\"\n        onClick={onToggleFilters}\n      >\n        Filter <FaFilter className=\"ml-2\" />\n      </div>\n    </div>\n  );\n};\n\nexport default ResultsSummary;\n","import React, { useState } from \"react\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport { FaFilter, FaSpinner, FaTimes, FaTimesCircle } from \"react-icons/fa\";\nimport { useAnswers } from \"yext-answers-react\";\nimport Facets from \"./Facets\";\nimport Modal from \"./Modal\";\nimport Nav from \"./Nav\";\nimport ProductGrid from \"./ProductGrid\";\nimport ProductOverlayCard from \"./ProductOverlayCard\";\nimport ResultsSummary from \"./ResultsSummary\";\nimport { Product } from \"./types\";\nimport { useCart } from \"./useCart\";\n\nfunction App() {\n  const [quickLookProduct, setQuickLookProduct] = useState<Product | null>(\n    null\n  );\n  const [showingMobileFilters, setShowingMobileFilters] = useState(false);\n\n  const { shoppingCart, addProductToCart } = useCart();\n  const {\n    state: { verticalresults, lastSearchedTerm, loading },\n    actions: { runSearch },\n  } = useAnswers();\n\n  return (\n    <div className=\"mb-12 relative\">\n      <Nav shoppingCart={shoppingCart} />\n      <div className=\"flex items-start\">\n        <div className=\"w-64 xl:w-72 sticky top-0 max-h-screen overflow-y-auto pb-12 hidden md:block\">\n          {lastSearchedTerm.length > 0 && (\n            <div className=\"px-4 mt-5 flex items-center group\">\n              <div className=\"font-medium\">{lastSearchedTerm} </div>\n\n              {!loading && (\n                <>\n                  <div className=\"ml-1\">\n                    ({verticalresults?.resultsCount.toLocaleString()})\n                  </div>\n                  <div className=\"flex-grow\"></div>\n                  <div>\n                    <FaTimesCircle\n                      className=\"opacity-0 group-hover:opacity-100 text-gray-500 cursor-pointer hover:text-gray-600 bg-gray-100\"\n                      onClick={() => {\n                        runSearch(\"\");\n                      }}\n                    />\n                  </div>\n                </>\n              )}\n              {loading && (\n                <>\n                  <div className=\"flex-grow\"></div>\n                  <div className=\"ml-1\">\n                    <FaSpinner className=\"animate-spin text-gray-500\" />\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n          <Facets />\n        </div>\n        {verticalresults && (\n          <div className=\"p-4 flex-grow\">\n            <ResultsSummary\n              onToggleFilters={() => setShowingMobileFilters((e) => !e)}\n            />\n            <ProductGrid\n              onAddToCart={addProductToCart}\n              onQuickLook={(p) => setQuickLookProduct(p)}\n            />\n          </div>\n        )}\n      </div>\n      {showingMobileFilters && (\n        <div className=\"fixed top-0 right-0 left-0 bottom-0 bg-white z-50 flex flex-col\">\n          <div className=\"pt-4 px-4 text-lg font-light flex items-center\">\n            <FaFilter className=\"text-gray-600 mr-2\" />\n            Filters\n            <div className=\"flex-grow\"></div>\n            <button\n              className=\"p-4 text-gray-400 -m-4\"\n              onClick={() => setShowingMobileFilters(false)}\n            >\n              <FaTimes />\n            </button>\n          </div>\n          <div className=\"flex-grow overflow-y-auto\">\n            <Facets />\n          </div>\n          <button\n            className=\"m-2 bg-gray-800 text-white p-4 text-center\"\n            onClick={() => setShowingMobileFilters(false)}\n          >\n            Show {verticalresults?.resultsCount} Glasses\n          </button>\n        </div>\n      )}\n      {quickLookProduct && (\n        <Modal>\n          <ProductOverlayCard\n            addToCart={() => {\n              addProductToCart(quickLookProduct);\n              setQuickLookProduct(null);\n            }}\n            product={quickLookProduct}\n            onClose={() => setQuickLookProduct(null)}\n          />\n        </Modal>\n      )}\n      <div className=\"fixed right-0 bottom-0 border-l border-t bg-white z-50 text-xs text-gray-500 p-4 w-48\">\n        <div>\n          This is an example React application built on top of{\" \"}\n          <a\n            href=\"https://www.yext.com/products/answers\"\n            rel=\"noreferrer\"\n            target=\"_blank\"\n            className=\"underline\"\n          >\n            Yext Answers\n          </a>\n          .{\" \"}\n          <a\n            href=\"https://github.com/Mxs2019/answers-product-search-core\"\n            rel=\"noreferrer\"\n            target=\"_blank\"\n            className=\"underline\"\n          >\n            View the code on github\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { useState } from \"react\";\nimport { FaCartPlus } from \"react-icons/fa\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { Product } from \"./types\";\nexport const useCart = () => {\n  const [shoppingCart, setShoppingCart] = useState<\n    {\n      quantity: number;\n      product: Product;\n    }[]\n  >([]);\n\n  const { addToast } = useToasts();\n\n  const addProductToCart = (product: Product) => {\n    setShoppingCart((cart) => {\n      let added = false;\n\n      const updatedCart = cart.map((p) => {\n        if (p.product.rawData.id === product.rawData.id) {\n          added = true;\n          return {\n            product,\n            quantity: p.quantity + 1,\n          };\n        } else return p;\n      });\n      if (!added) {\n        updatedCart.push({\n          quantity: 1,\n          product,\n        });\n      }\n      return updatedCart;\n    });\n    addToast(\n      <div className=\"py-2 px-4 flex items-center font-light bg-gray-600 text-white text-sm  shadow-sm z-50 rounded-sm mb-2 mr-4 mt-4\">\n        <FaCartPlus />\n        <div className=\"ml-2\">Added</div>\n        <span className=\"font-medium ml-1\">{product.rawData.name}</span>\n        <div className=\"ml-1\">to cart</div>\n      </div>,\n      {\n        appearance: \"success\",\n        autoDismiss: true,\n      }\n    );\n  };\n\n  return {\n    shoppingCart,\n    addProductToCart,\n  };\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ToastProvider } from \"react-toast-notifications\";\nimport { AnswersContext } from \"yext-answers-react\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\n\ntype ToastProps = {\n  children: React.ReactNode;\n};\n\nconst MyCustomToast = ({ children }: ToastProps) => (\n  <div className=\"\">{children}</div>\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <ToastProvider components={{ Toast: MyCustomToast }}>\n      <AnswersContext\n        config={{\n          runSearchOnLoad: true,\n          apiKey: \"7bce922a5847aff36dc33345921ba700\",\n          experienceKey: \"dtc_demo\",\n          experienceVersion: \"PRODUCTION\",\n          locale: \"en\",\n          verticalKey: \"products\",\n        }}\n      >\n        <App />\n      </AnswersContext>\n    </ToastProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}